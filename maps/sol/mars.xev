<?xml version="1.0"?>

<event-list version='348'>

 <category name='death'>

  <section name='lines'>

   <event num='1'>
    <comment>Lines room - Loc 849 - death event for non-existant move</comment>
    <message type='single' where='com' who='individual' lo='death.lines.1'/>
    <message type='single' where='com' who='room_ex' lo='death.lines.2'/>
    <changestat who='individual' stamina='0' change='set' cur-max='current'/>
   </event>

  </section>

  <section name='ruins'>

   <event num='1'>
    <comment>Death loc - Pit room - loc 79</comment>
    <changestat who='individual' stamina='0' change='set' cur-max='current'/>
    <announce type='single' loc='143' lo='death.ruins.1'/>
    <message type='single' where='com' who='individual' lo='death.ruins.5'/>
   </event>

   <event num='2'>
    <comment>Death loc - Deep pit - loc 140</comment>
    <changestat who='individual' stamina='0' change='set' cur-max='current'/>
    <announce type='single' loc='205' lo='death.ruins.2'/>
    <message type='single' where='com' who='individual' lo='death.ruins.6'/>
   </event>

   <event num='3'>
    <comment>Death loc - Altar - loc 524</comment>
    <changestat who='individual' stamina='0' change='set' cur-max='current'/>
    <announce type='single' loc='271' lo='death.ruins.3'/>
    <message type='multi' where='com' who='individual' lo='death.ruins.7' hi='death.ruins.9'/>
   </event>

  </section>

 </category>

 <category name='food'>

  <section name='duff'>

   <event num='1'>
    <comment>Buy food - Duff Modem - 451</comment>
    <checkstat who='individual' money='10' higher='food.duff.2' equals='food.duff.2' lower='food.duff.3'/>
   </event>

   <event num='2'>
    <comment>Feed the hungry</comment>
    <changestat who='individual' money='-10' change='add' cur-max='current'/>
    <changestat who='individual' stamina='5' change='add' cur-max='current'/>
    <message type='single' where='com' who='individual' lo='food.duff.1'/>
   </event>

  </section>

  <section name='hotel'>

   <event num='1'>
    <comment>Buy food - Hotel lounge - 322</comment>
    <checkstat who='individual' money='10' higher='food.hotel.2' equals='food.hotel.2' lower='food.hotel.3'/>
   </event>

   <event num='2'>
    <comment>Feed the hungry</comment>
    <changestat who='individual' money='-10' change='add' cur-max='current'/>
    <changestat who='individual' stamina='5' change='add' cur-max='current'/>
    <message type='single' where='com' who='individual' lo='food.hotel.1'/>
   </event>

   <event num='3'>
    <comment>Not enough groats</comment>
    <message type='single' where='com' who='individual' lo='food.hotel.2'/>
   </event>

  </section>

 </category>

 <category name='fool'>

  <section name='balloon'>

   <event num='1'>
    <comment>In room event on roof garden - loc 259</comment>
    <message type='single' where='com' who='individual' lo='fool.balloon.1'/>
    <createobject where='inventory' home-map='sol/mars' id='obj_balloon'/>
   </event>

   <event num='2'>
    <comment>Pop balloon</comment>
    <message type='single' where='com' who='individual' lo='fool.balloon.2'/>
    <message type='single' where='com' who='room_ex' lo='fool.balloon.3'/>
    <destroyobject where='inventory' map='home' id-name='balloon'/>
   </event>

   <event num='3'>
    <comment>Drop balloon</comment>
    <message type='single' where='com' who='individual' lo='fool.balloon.4'/>
    <message type='single' where='com' who='room_ex' lo='fool.balloon.5'/>
    <destroyobject where='inventory' map='home' id-name='balloon'/>
   </event>

   <event num='4'>
    <comment>Enter event on CDs - remove balloon</comment>
    <checkinventory map='home' id-name='balloon' not-found='stop'/>
    <message type='single' where='com' who='individual' lo='fool.balloon.6'/>
    <destroyobject where='inventory' map='home' id-name='balloon'/>
   </event>

  </section>

  <section name='castle'>

   <event num='1'>
    <comment>Bouncy castle - random pic</comment>
    <call event='fool.castle.random[2-6]'/>
   </event>

   <event num='2'>
    <comment>Bounce 1</comment>
    <message type='single' where='com' who='individual' lo='fool.castle.1'/>
    <message type='single' where='com' who='room_ex' lo='fool.castle.2'/>
   </event>

   <event num='3'>
    <comment>Bounce 2</comment>
    <message type='single' where='com' who='individual' lo='fool.castle.3'/>
    <message type='single' where='com' who='room_ex' lo='fool.castle.4'/>
   </event>

   <event num='4'>
    <comment>Bounce 3</comment>
    <message type='single' where='com' who='individual' lo='fool.castle.5'/>
    <message type='single' where='com' who='room_ex' lo='fool.castle.6'/>
   </event>

   <event num='5'>
    <comment>Bounce 4</comment>
    <message type='multi' where='com' who='individual' lo='fool.castle.7' hi='fool.castle.8'/>
    <message type='multi' where='com' who='room_ex' lo='fool.castle.9' hi='fool.castle.10'/>
   </event>

   <event num='6'>
    <comment>Bounce 5</comment>
    <message type='multi' where='com' who='individual' lo='fool.castle.11' hi='fool.castle.12'/>
    <message type='multi' where='com' who='room_ex' lo='fool.castle.13' hi='fool.castle.14'/>
   </event>

  </section>

  <section name='icecream'>

   <event num='1'>
    <comment>Get ice cream - random pick of flavors</comment>
    <call event='fool.icecream.random[2-11]'/>
   </event>

   <event num='2'>
    <comment>Flavor 1</comment>
    <message type='single' where='com' who='individual' lo='fool.icecream.1'/>
    <changestat who='individual' stamina='5' change='add' cur-max='current'/>
   </event>

   <event num='3'>
    <comment>Flavor 2</comment>
    <message type='single' where='com' who='individual' lo='fool.icecream.2'/>
    <changestat who='individual' stamina='5' change='add' cur-max='current'/>
   </event>

   <event num='4'>
    <comment>Flavor 3</comment>
    <message type='single' where='com' who='individual' lo='fool.icecream.3'/>
    <changestat who='individual' stamina='5' change='add' cur-max='current'/>
   </event>

   <event num='5'>
    <comment>Flavor 4</comment>
    <message type='single' where='com' who='individual' lo='fool.icecream.4'/>
    <changestat who='individual' stamina='5' change='add' cur-max='current'/>
   </event>

   <event num='6'>
    <comment>Flavor 5</comment>
    <message type='single' where='com' who='individual' lo='fool.icecream.5'/>
    <changestat who='individual' stamina='5' change='add' cur-max='current'/>
   </event>

   <event num='7'>
    <comment>Flavor 6</comment>
    <message type='single' where='com' who='individual' lo='fool.icecream.6'/>
    <changestat who='individual' stamina='5' change='add' cur-max='current'/>
   </event>

   <event num='8'>
    <comment>Flavor 7</comment>
    <message type='single' where='com' who='individual' lo='fool.icecream.7'/>
    <changestat who='individual' stamina='5' change='add' cur-max='current'/>
   </event>

   <event num='9'>
    <comment>Flavor 8</comment>
    <message type='single' where='com' who='individual' lo='fool.icecream.8'/>
    <changestat who='individual' stamina='5' change='add' cur-max='current'/>
   </event>

   <event num='10'>
    <comment>Flavor 9</comment>
    <message type='single' where='com' who='individual' lo='fool.icecream.9'/>
    <changestat who='individual' stamina='5' change='add' cur-max='current'/>
   </event>

   <event num='11'>
    <comment>Flavor 10</comment>
    <message type='single' where='com' who='individual' lo='fool.icecream.10'/>
    <message type='single' where='com' who='room_ex' lo='fool.icecream.11'/>
    <changestat who='individual' stamina='-5' change='add' cur-max='current'/>
   </event>

   <event num='12'>
    <comment>Buy ice cream</comment>
    <message type='single' where='com' who='individual' lo='fool.icecream.12'/>
   </event>

  </section>

  <section name='martians'>

   <event num='1'>
    <comment>Commence entertainment - check if player is staff</comment>
    <checkflag who='individual' flag ='staff'  set='fool.martians.3' unset='fool.martians.2'/>
   </event>

   <event num='2'>
    <comment>Not staff</comment>
    <message type='single' where='com' who='individual' lo='fool.martians.1'/>
   </event>

   <event num='3'>
    <comment>Player is staff, so kick off the Martian invasion with scene 1</comment>
    <announce type='multi' loc='259' lo='fool.martians.2' hi='fool.martians.4'/>
    <delayevent delay='30' event='fool.martians.4' logoff='fool.martians.4'/>
   </event>

   <event num='4'>
    <comment>Scene 2</comment>
    <announce type='multi' loc='259' lo='fool.martians.5' hi='fool.martians.6'/>
    <delayevent delay='30' event='fool.martians.5' logoff='fool.martians.5'/>
   </event>

   <event num='5'>
    <comment>Scene 3</comment>
    <announce type='multi' loc='259' lo='fool.martians.7' hi='fool.martians.8'/>
    <delayevent delay='30' event='fool.martians.6' logoff='fool.martians.6'/>
   </event>

   <event num='6'>
    <comment>Scene 4</comment>
    <announce type='multi' loc='259' lo='fool.martians.9' hi='fool.martians.10'/>
    <delayevent delay='30' event='fool.martians.7' logoff='fool.martians.7'/>
   </event>

   <event num='7'>
    <comment>Scene 5</comment>
    <announce type='multi' loc='259' lo='fool.martians.11' hi='fool.martians.12'/>
    <delayevent delay='30' event='fool.martians.8' logoff='fool.martians.8'/>
   </event>

   <event num='8'>
    <comment>Scene 6</comment>
    <announce type='single' loc='259' lo='fool.martians.13'/>
    <delayevent delay='30' event='fool.martians.9' logoff='fool.martians.9'/>
   </event>

   <event num='9'>
    <comment>Scene 7</comment>
    <announce type='multi' loc='259' lo='fool.martians.14' hi='fool.martians.15'/>
    <delayevent delay='30' event='fool.martians.10' logoff='fool.martians.10'/>
   </event>

   <event num='10'>
    <comment>Scene 8</comment>
    <announce type='multi' loc='259' lo='fool.martians.16' hi='fool.martians.17'/>
    <delayevent delay='30' event='fool.martians.11' logoff='fool.martians.11'/>
   </event>

   <event num='11'>
    <comment>Scene 9</comment>
    <announce type='single' loc='259' lo='fool.martians.18'/>
    <delayevent delay='30' event='fool.martians.12' logoff='fool.martians.12'/>
   </event>

   <event num='12'>
    <comment>Scene 10</comment>
    <announce type='multi' loc='259' lo='fool.martians.19' hi='fool.martians.20'/>
    <delayevent delay='30' event='fool.martians.13' logoff='fool.martians.13'/>
   </event>

   <event num='13'>
    <comment>Scene 11</comment>
    <announce type='single' loc='259' lo='fool.martians.21'/>
    <delayevent delay='30' event='fool.martians.14' logoff='fool.martians.14'/>
   </event>

   <event num='14'>
    <comment>Scene 12</comment>
    <announce type='multi' loc='259' lo='fool.martians.22' hi='fool.martians.23'/>
    <delayevent delay='30' event='fool.martians.15' logoff='fool.martians.15'/>
   </event>

   <event num='15'>
    <comment>Scene 13</comment>
    <announce type='single' loc='259' lo='fool.martians.24'/>
    <delayevent delay='30' event='fool.martians.16' logoff='fool.martians.16'/>
   </event>

   <event num='16'>
    <comment>Scene 14</comment>
    <announce type='single' loc='259' lo='fool.martians.25'/>
    <delayevent delay='30' event='fool.martians.17' logoff='fool.martians.17'/>
   </event>

   <event num='17'>
    <comment>Scene 15</comment>
    <announce type='single' loc='259' lo='fool.martians.26'/>
    <delayevent delay='30' event='fool.martians.18' logoff='fool.martians.18'/>
   </event>

   <event num='18'>
    <comment>Scene 16</comment>
    <announce type='single' loc='259' lo='fool.martians.27'/>
    <delayevent delay='30' event='fool.martians.19' logoff='fool.martians.19'/>
   </event>

   <event num='19'>
    <comment>Scene 17</comment>
    <announce type='single' loc='259' lo='fool.martians.28'/>
    <delayevent delay='30' event='fool.martians.20' logoff='fool.martians.20'/>
   </event>

   <event num='20'>
    <comment>Scene 18</comment>
    <announce type='multi' loc='259' lo='fool.martians.29' hi='fool.martians.30'/>
    <delayevent delay='30' event='fool.martians.21' logoff='fool.martians.21'/>
   </event>

   <event num='21'>
    <comment>Scene 19</comment>
    <announce type='multi' loc='259' lo='fool.martians.31' hi='fool.martians.32'/>
    <delayevent delay='30' event='fool.martians.22' logoff='fool.martians.22'/>
   </event>

   <event num='22'>
    <comment>Scene 20</comment>
    <announce type='single' loc='259' lo='fool.martians.33'/>
    <delayevent delay='30' event='fool.martians.23' logoff='fool.martians.23'/>
   </event>

   <event num='23'>
    <comment>Scene 21</comment>
    <announce type='single' loc='259' lo='fool.martians.34'/>
    <delayevent delay='30' event='fool.martians.24' logoff='fool.martians.24'/>
   </event>

   <event num='24'>
    <comment>Scene 22</comment>
    <announce type='single' loc='259' lo='fool.martians.35'/>
    <delayevent delay='30' event='fool.martians.25' logoff='fool.martians.25'/>
   </event>

   <event num='25'>
    <comment>Scene 23</comment>
    <announce type='single' loc='259' lo='fool.martians.36'/>
    <delayevent delay='30' event='fool.martians.26' logoff='fool.martians.26'/>
   </event>

   <event num='26'>
    <comment>Scene 24</comment>
    <announce type='single' loc='259' lo='fool.martians.37'/>
    <delayevent delay='30' event='fool.martians.27' logoff='fool.martians.27'/>
   </event>

   <event num='27'>
    <comment>Scene 25</comment>
    <announce type='multi' loc='259' lo='fool.martians.38' hi='fool.martians.39'/>
    <delayevent delay='30' event='fool.martians.28' logoff='fool.martians.28'/>
   </event>

   <event num='28'>
    <comment>Scene 26</comment>
    <announce type='single' loc='259' lo='fool.martians.40'/>
    <delayevent delay='30' event='fool.martians.29' logoff='fool.martians.29'/>
   </event>

   <event num='29'>
    <comment>Scene 27</comment>
    <announce type='single' loc='259' lo='fool.martians.41'/>
    <delayevent delay='30' event='fool.martians.30' logoff='fool.martians.30'/>
   </event>

   <event num='30'>
    <comment>Scene 28</comment>
    <announce type='single' loc='259' lo='fool.martians.42'/>
    <delayevent delay='30' event='fool.martians.31' logoff='fool.martians.31'/>
   </event>

   <event num='31'>
    <comment>Scene 29</comment>
    <announce type='single' loc='259' lo='fool.martians.43'/>
    <delayevent delay='30' event='fool.martians.32' logoff='fool.martians.32'/>
   </event>

   <event num='32'>
    <comment>Scene 30 - the end</comment>
    <announce type='multi' loc='259' lo='fool.martians.44' hi='fool.martians.46'/>
   </event>

  </section>

  <section name='soda'>

   <event num='1'>
    <comment>Drink soda - random pick</comment>
    <call event='fool.soda.random[2-6]'/>
   </event>

   <event num='2'>
    <comment>Drink 1</comment>
    <message type='single' where='com' who='individual' lo='fool.soda.1'/>
    <changestat who='individual' stamina='2' change='add' cur-max='current'/>
   </event>

   <event num='3'>
    <comment>Drink 2</comment>
    <message type='single' where='com' who='individual' lo='fool.soda.2'/>
    <changestat who='individual' stamina='2' change='add' cur-max='current'/>
   </event>

   <event num='4'>
    <comment>Drink 3</comment>
    <message type='single' where='com' who='individual' lo='fool.soda.3'/>
    <changestat who='individual' stamina='2' change='add' cur-max='current'/>
   </event>

   <event num='5'>
    <comment>Drink 4</comment>
    <message type='single' where='com' who='individual' lo='fool.soda.4'/>
    <changestat who='individual' stamina='2' change='add' cur-max='current'/>
   </event>

   <event num='6'>
    <comment>Drink 5</comment>
    <message type='single' where='com' who='individual' lo='fool.soda.5'/>
    <changestat who='individual' stamina='2' change='add' cur-max='current'/>
   </event>

   <event num='7'>
    <comment>Buy soda</comment>
    <message type='single' where='com' who='individual' lo='fool.soda.6'/>
   </event>

  </section>

 </category>

 <category name='free'>

  <section name='food'>

   <event num='1'>
    <comment>CDs - buy food</comment>
    <message type='single' where='com' who='individual' lo='free.food.1'/>
    <changestat who='individual' stamina='5' change='add' cur-max='current'/>
   </event>

   <event num='2'>
    <comment>CDs - buy round</comment>
    <message type='single' where='com' who='individual' lo='free.food.2'/>
    <message type='single' where='com' who='room_ex' lo='free.food.3'/>
    <changestat who='room' stamina='2' change='add' cur-max='current'/>
   </event>

  </section>

 </category>

 <category name='gadget'>

  <section name='aol'>

   <event num='1'>
    <comment>Create aol</comment>
    <checkflag who='individual' flag ='staff'  set='gadget.aol.2' unset='gadget.refuse.1'/>
   </event>

   <event num='2'>
    <comment>Make a aol for the cabinet</comment>
    <createobject where='inventory' home-map='home' id='aol_abs'/>
    <message type='text' where='com' who='individual'>You make a aol for the cabinet.</message>
   </event>

  </section>

  <section name='ashtray'>

   <event num='1'>
    <comment>Create ashtray</comment>
    <checkflag who='individual' flag ='staff'  set='gadget.ashtray.2' unset='gadget.refuse.1'/>
   </event>

   <event num='2'>
    <comment>Make a ashtray for the cabinet</comment>
    <createobject where='inventory' home-map='home' id='ashtray_abs'/>
    <message type='text' where='com' who='individual'>You make a ashtray for the cabinet.</message>
   </event>

  </section>

  <section name='coin'>

   <event num='1'>
    <comment>Create coin charm</comment>
    <checkflag who='individual' flag ='staff'  set='gadget.coin.2' unset='gadget.refuse.1'/>
   </event>

   <event num='2'>
    <comment>Make a coin charm</comment>
    <message type='single' where='com' who='individual' lo='gadget.coin.1'/>
    <message type='single' where='com' who='room_ex' lo='gadget.coin.2'/>
    <createobject where='inventory' home-map='sol/earth' id='charm_coin10'/>
   </event>

  </section>

  <section name='crayon'>

   <event num='1'>
    <comment>Create christmas crayon</comment>
    <checkflag who='individual' flag ='staff'  set='gadget.crayon.2' unset='gadget.refuse.1'/>
   </event>

   <event num='2'>
    <comment>Make a christmas crayon</comment>
    <message type='single' where='com' who='individual' lo='gadget.crayon.1'/>
    <message type='single' where='com' who='room_ex' lo='gadget.crayon.2'/>
    <createobject where='inventory' home-map='home' id='obj_crayon'/>
   </event>

  </section>

  <section name='football'>

   <event num='1'>
    <comment>Create football charm</comment>
    <checkflag who='individual' flag ='staff'  set='gadget.football.2' unset='gadget.refuse.1'/>
   </event>

   <event num='2'>
    <comment>Make a football charm</comment>
    <message type='single' where='com' who='individual' lo='gadget.football.1'/>
    <message type='single' where='com' who='room_ex' lo='gadget.football.2'/>
    <createobject where='inventory' home-map='sol/earth' id='charm_football09'/>
   </event>

  </section>

  <section name='forklift'>

   <event num='1'>
    <comment>Create nano-forklift</comment>
    <checkflag who='individual' flag ='staff'  set='gadget.forklift.2' unset='gadget.refuse.1'/>
   </event>

   <event num='2'>
    <comment>Make a nano-forklift</comment>
    <message type='single' where='com' who='individual' lo='gadget.forklift.1'/>
    <message type='single' where='com' who='room_ex' lo='gadget.forklift.2'/>
    <createobject where='inventory' home-map='home' id='obj_forklift'/>
   </event>

  </section>

  <section name='genie'>

   <event num='1'>
    <comment>Create genie</comment>
    <checkflag who='individual' flag ='staff'  set='gadget.genie.2' unset='gadget.refuse.1'/>
   </event>

   <event num='2'>
    <comment>Make a genie for the cabinet</comment>
    <createobject where='inventory' home-map='home' id='genie_abs'/>
    <message type='text' where='com' who='individual'>You make a genie for the cabinet.</message>
   </event>

  </section>

  <section name='invite'>

   <event num='1'>
    <comment>Create invite</comment>
    <checkflag who='individual' flag ='staff'  set='gadget.invite.2' unset='gadget.refuse.1'/>
   </event>

   <event num='2'>
    <comment>Make a invite for the cabinet</comment>
    <createobject where='inventory' home-map='home' id='invite_abs'/>
    <message type='text' where='com' who='individual'>You make an invite for the cabinet.</message>
   </event>

  </section>

  <section name='pulsar'>

   <event num='1'>
    <comment>Create staff pulsar</comment>
    <checkflag who='individual' flag ='staff'  set='gadget.pulsar.2' unset='gadget.refuse.1'/>
   </event>

   <event num='2'>
    <comment>Make a staff pulsar</comment>
    <message type='single' where='com' who='individual' lo='gadget.pulsar.1'/>
    <message type='single' where='com' who='room_ex' lo='gadget.pulsar.2'/>
    <createobject where='inventory' home-map='home' id='charm_staffpulsar09'/>
   </event>

  </section>

  <section name='refuse'>

   <event num='1'>
    <comment>Not staff</comment>
    <message type='single' where='com' who='individual' lo='gadget.refuse.1'/>
   </event>

  </section>

  <section name='scarab'>

   <event num='1'>
    <comment>Create amber scarab</comment>
    <checkflag who='individual' flag ='staff'  set='gadget.scarab.2' unset='gadget.refuse.1'/>
   </event>

   <event num='2'>
    <comment>Make a christmas crayon</comment>
    <message type='single' where='com' who='individual' lo='gadget.scarab.1'/>
    <message type='single' where='com' who='room_ex' lo='gadget.scarab.2'/>
    <createobject where='inventory' home-map='home' id='obj_scarab'/>
   </event>

  </section>

  <section name='sceptre'>

   <event num='1'>
    <comment>Create sceptre</comment>
    <checkflag who='individual' flag ='staff'  set='gadget.sceptre.2' unset='gadget.refuse.1'/>
   </event>

   <event num='2'>
    <comment>Make a sceptre for the cabinet</comment>
    <createobject where='inventory' home-map='home' id='sceptre_abs'/>
    <message type='text' where='com' who='individual'>You make a sceptre for the cabinet.</message>
   </event>

  </section>

  <section name='shamrock'>

   <event num='1'>
    <comment>Create shamrock</comment>
    <checkflag who='individual' flag ='staff'  set='gadget.shamrock.2' unset='gadget.refuse.1'/>
   </event>

   <event num='2'>
    <comment>Make a shamrock</comment>
    <message type='single' where='com' who='individual' lo='gadget.shamrock.1'/>
    <message type='single' where='com' who='room_ex' lo='gadget.shamrock.2'/>
    <createobject where='inventory' home-map='sol/earth' id='charm_shamrock'/>
   </event>

  </section>

  <section name='shoes'>

   <event num='1'>
    <comment>Create shoes</comment>
    <checkflag who='individual' flag ='staff'  set='gadget.shoes.2' unset='gadget.refuse.1'/>
   </event>

   <event num='2'>
    <comment>Make a shoes for the cabinet</comment>
    <createobject where='inventory' home-map='home' id='shoes_abs'/>
    <message type='text' where='com' who='individual'>You make the shoes for cabinet.</message>
   </event>

  </section>

  <section name='spider'>

   <event num='1'>
    <comment>Create spider charm</comment>
    <checkflag who='individual' flag ='staff'  set='gadget.spider.2' unset='gadget.refuse.1'/>
   </event>

   <event num='2'>
    <comment>Make a spider charm</comment>
    <message type='single' where='com' who='individual' lo='gadget.spider.1'/>
    <message type='single' where='com' who='room_ex' lo='gadget.spider.2'/>
    <createobject where='inventory' home-map='home' id='charm_spider'/>
   </event>

  </section>

  <section name='stafffob'>

   <event num='1'>
    <comment>Create staff fob</comment>
    <checkflag who='individual' flag ='staff'  set='gadget.stafffob.2' unset='gadget.refuse.1'/>
   </event>

   <event num='2'>
    <comment>Make a staff fob</comment>
    <message type='single' where='com' who='individual' lo='gadget.stafffob.1'/>
    <message type='single' where='com' who='room_ex' lo='gadget.stafffob.2'/>
    <createobject where='inventory' home-map='sol/earth' id='charm_stafffob05'/>
   </event>

  </section>

  <section name='staffstar'>

   <event num='1'>
    <comment>Create staff star</comment>
    <checkflag who='individual' flag ='staff'  set='gadget.staffstar.2' unset='gadget.refuse.1'/>
   </event>

   <event num='2'>
    <comment>Make a staff star</comment>
    <message type='single' where='com' who='individual' lo='gadget.staffstar.1'/>
    <message type='single' where='com' who='room_ex' lo='gadget.staffstar.2'/>
    <createobject where='inventory' home-map='sol/earth' id='charm_staffstar05'/>
   </event>

  </section>

  <section name='star'>

   <event num='1'>
    <comment>Create gold star</comment>
    <checkflag who='individual' flag ='staff'  set='gadget.star.2' unset='gadget.refuse.1'/>
   </event>

   <event num='2'>
    <comment>Make a gold star</comment>
    <message type='single' where='com' who='individual' lo='gadget.star.1'/>
    <message type='single' where='com' who='room_ex' lo='gadget.star.2'/>
    <createobject where='inventory' home-map='home' id='obj_goldstar'/>
   </event>

  </section>

 </category>

 <category name='hallow11'>

  <section name='box'>

   <event num='1'>
    <comment>Get/take/move</comment>
    <message type='single' where='com' who='individual' lo='hallow11.box.1'/>
   </event>

  </section>

  <section name='switch'>

   <event num='1'>
    <comment>Flip switch</comment>
    <message type='multi' where='com' who='individual' lo='hallow11.switch.1' hi='hallow11.switch.2'/>
    <message type='multi' where='com' who='room_ex' lo='hallow11.switch.3' hi='hallow11.switch.4'/>
   </event>

  </section>

 </category>

 <category name='halloween05'>

  <section name='candy'>

   <event num='1'>
    <comment>Drop candy</comment>
    <message type='single' where='com' who='individual' lo='halloween05.candy.1'/>
    <destroyobject where='inventory' map='home' id-name='candy'/>
   </event>

   <event num='2'>
    <comment>Eat/unwrap candy 1</comment>
    <message type='single' where='com' who='individual' lo='halloween05.candy.2'/>
    <destroyobject where='inventory' map='home' id-name='candy'/>
    <changestat who='individual' stamina='1' change='add' cur-max='current'/>
   </event>

   <event num='3'>
    <comment>Eat/unwrap candy 2</comment>
    <message type='single' where='com' who='individual' lo='halloween05.candy.3'/>
    <destroyobject where='inventory' map='home' id-name='candy'/>
    <changestat who='individual' stamina='1' change='add' cur-max='current'/>
   </event>

   <event num='4'>
    <comment>Eat/unwrap candy 3</comment>
    <message type='single' where='com' who='individual' lo='halloween05.candy.4'/>
    <destroyobject where='inventory' map='home' id-name='candy'/>
    <changestat who='individual' stamina='1' change='add' cur-max='current'/>
   </event>

   <event num='5'>
    <comment>Eat/unwrap candy 4</comment>
    <message type='single' where='com' who='individual' lo='halloween05.candy.5'/>
    <destroyobject where='inventory' map='home' id-name='candy'/>
    <changestat who='individual' stamina='1' change='add' cur-max='current'/>
   </event>

   <event num='6'>
    <comment>Eat/unwrap candy 5</comment>
    <message type='single' where='com' who='individual' lo='halloween05.candy.6'/>
    <destroyobject where='inventory' map='home' id-name='candy'/>
    <changestat who='individual' stamina='1' change='add' cur-max='current'/>
   </event>

  </section>

  <section name='coin'>

   <event num='1'>
    <comment>GET COIN</comment>
    <message type='single' where='com' who='individual' lo='halloween05.coin.1'/>
    <message type='single' where='com' who='room_ex' lo='halloween05.coin.2'/>
    <destroyobject where='room' map='home' id-name='coin'/>
    <changestat who='individual' money='3' change='add' cur-max='current'/>
   </event>

  </section>

  <section name='drink'>

   <event num='1'>
    <comment>buy round</comment>
    <message type='single' where='com' who='individual' lo='halloween05.drink.1'/>
    <message type='single' where='com' who='room_ex' lo='halloween05.drink.2'/>
    <changestat who='room' stamina='2' change='add' cur-max='current'/>
   </event>

  </section>

  <section name='treat'>

   <event num='1'>
    <comment>GIVE TREAT - Check for staff</comment>
    <checkflag who='individual' flag ='staff'  set='halloween05.treat.3' unset='halloween05.treat.2'/>
   </event>

   <event num='2'>
    <comment>Not staff</comment>
    <message type='single' where='com' who='individual' lo='halloween05.treat.1'/>
   </event>

   <event num='3'>
    <comment>They are staff - so pick a treat</comment>
    <call event='halloween05.treat.random[4-5]'/>
   </event>

   <event num='4'>
    <comment>Trick 1 - coins</comment>
    <message type='single' where='com' who='room_ex' lo='halloween05.treat.2'/>
    <message type='single' where='com' who='individual' lo='halloween05.treat.4'/>
    <createobject where='room' home-map='sol/mars' id='obj_1coin' dest-map='sol/mars' dest-loc='260'/>
    <createobject where='room' home-map='sol/mars' id='obj_1coin' dest-map='sol/mars' dest-loc='260'/>
    <createobject where='room' home-map='sol/mars' id='obj_1coin' dest-map='sol/mars' dest-loc='260'/>
    <createobject where='room' home-map='sol/mars' id='obj_1coin' dest-map='sol/mars' dest-loc='260'/>
    <createobject where='room' home-map='sol/mars' id='obj_1coin' dest-map='sol/mars' dest-loc='260'/>
   </event>

   <event num='5'>
    <comment>Trick 2 - candy</comment>
    <message type='single' where='com' who='room_ex' lo='halloween05.treat.3'/>
    <message type='single' where='com' who='individual' lo='halloween05.treat.5'/>
    <createobject where='room' home-map='sol/mars' id='obj_1candy' dest-map='sol/mars' dest-loc='260'/>
    <createobject where='room' home-map='sol/mars' id='obj_2candy' dest-map='sol/mars' dest-loc='260'/>
    <createobject where='room' home-map='sol/mars' id='obj_3candy' dest-map='sol/mars' dest-loc='260'/>
    <createobject where='room' home-map='sol/mars' id='obj_4candy' dest-map='sol/mars' dest-loc='260'/>
    <createobject where='room' home-map='sol/mars' id='obj_5candy' dest-map='sol/mars' dest-loc='260'/>
   </event>

  </section>

  <section name='trick'>

   <event num='1'>
    <comment>PLAY TRICK - check for staff</comment>
    <checkflag who='individual' flag ='staff'  set='halloween05.trick.3' unset='halloween05.trick.2'/>
   </event>

   <event num='2'>
    <comment>Not staff</comment>
    <message type='single' where='com' who='individual' lo='halloween05.trick.1'/>
   </event>

   <event num='3'>
    <comment>They are staff - so pick a trick</comment>
    <call event='halloween05.trick.random[4-6]'/>
   </event>

   <event num='4'>
    <comment>Trick 1</comment>
    <message type='single' where='com' who='room_ex' lo='halloween05.trick.2'/>
    <message type='single' where='com' who='individual' lo='halloween05.trick.5'/>
   </event>

   <event num='5'>
    <comment>Trick 2</comment>
    <message type='single' where='com' who='room_ex' lo='halloween05.trick.3'/>
    <message type='single' where='com' who='individual' lo='halloween05.trick.6'/>
   </event>

   <event num='6'>
    <comment>Trick 3</comment>
    <message type='single' where='com' who='room_ex' lo='halloween05.trick.4'/>
    <message type='single' where='com' who='individual' lo='halloween05.trick.7'/>
   </event>

  </section>

 </category>

 <category name='halloween08'>

  <section name='drink'>

   <event num='1'>
    <comment>buy round</comment>
    <message type='single' where='com' who='individual' lo='halloween08.drink.1'/>
    <message type='single' where='com' who='room_ex' lo='halloween08.drink.2'/>
    <changestat who='room' stamina='2' change='add' cur-max='current'/>
   </event>

  </section>

  <section name='moves'>

   <event num='1'>
    <comment>Enter event on limbo - 1481 - Send message if player came from outside</comment>
    <checklastloc loc='325' fail='stop'/>
    <message type='single' where='com' who='individual' lo='halloween08.moves.1'/>
   </event>

   <event num='2'>
    <comment>In event on hallway - 3350 - send message if player came from outside, and start sfx</comment>
    <checklastloc loc='1481' fail='stop'/>
    <message type='single' where='com' who='individual' lo='halloween08.moves.2'/>
    <delayevent delay='30' event='halloween08.sfx.12'/>
   </event>

   <event num='3'>
    <comment>Enter event on CDs - 260 - send message if come from haunted house</comment>
    <checklastloc loc='3421' fail='stop'/>
    <message type='single' where='com' who='individual' lo='halloween08.moves.3'/>
    <checklastloc loc='325' fail='stop'/>
    <message type='single' where='com' who='individual' lo='halloween08.moves.1'/>
    <checklastloc loc='1481' fail='stop'/>
    <message type='single' where='com' who='individual' lo='halloween08.moves.2'/>
    <delayevent delay='30' event='halloween08.sfx.12'/>
    <checklastloc loc='3421' fail='stop'/>
    <message type='single' where='com' who='individual' lo='halloween08.moves.3'/>
   </event>

  </section>

  <section name='sfx'>

   <event num='1'>
    <comment>Sound fx 1</comment>
    <message type='single' where='com' who='individual' lo='halloween08.sfx.1'/>
    <delayevent delay='60' event='halloween08.sfx.12'/>
   </event>

   <event num='2'>
    <comment>Sound fx 2</comment>
    <message type='single' where='com' who='individual' lo='halloween08.sfx.2'/>
    <delayevent delay='60' event='halloween08.sfx.12'/>
   </event>

   <event num='3'>
    <comment>Sound fx 3</comment>
    <message type='single' where='com' who='individual' lo='halloween08.sfx.3'/>
    <delayevent delay='60' event='halloween08.sfx.12'/>
   </event>

   <event num='4'>
    <comment>Sound fx 4</comment>
    <message type='single' where='com' who='individual' lo='halloween08.sfx.4'/>
    <delayevent delay='60' event='halloween08.sfx.12'/>
   </event>

   <event num='5'>
    <comment>Sound fx 5</comment>
    <message type='single' where='com' who='individual' lo='halloween08.sfx.5'/>
    <delayevent delay='60' event='halloween08.sfx.12'/>
   </event>

   <event num='6'>
    <comment>Sound fx 6</comment>
    <message type='single' where='com' who='individual' lo='halloween08.sfx.6'/>
    <delayevent delay='60' event='halloween08.sfx.12'/>
   </event>

   <event num='7'>
    <comment>Sound fx 7</comment>
    <message type='single' where='com' who='individual' lo='halloween08.sfx.7'/>
    <delayevent delay='60' event='halloween08.sfx.12'/>
   </event>

   <event num='8'>
    <comment>Sound fx 8</comment>
    <message type='single' where='com' who='individual' lo='halloween08.sfx.8'/>
    <delayevent delay='60' event='halloween08.sfx.12'/>
   </event>

   <event num='9'>
    <comment>Sound fx 9</comment>
    <message type='single' where='com' who='individual' lo='halloween08.sfx.9'/>
    <delayevent delay='60' event='halloween08.sfx.12'/>
   </event>

   <event num='10'>
    <comment>Sound fx 10</comment>
    <message type='single' where='com' who='individual' lo='halloween08.sfx.10'/>
    <delayevent delay='60' event='halloween08.sfx.12'/>
   </event>

   <event num='11'>
    <comment>Sound fx 11</comment>
    <message type='single' where='com' who='individual' lo='halloween08.sfx.11'/>
    <delayevent delay='60' event='halloween08.sfx.12'/>
   </event>

   <event num='12'>
    <comment>Pick which sound fx to play</comment>
    <checklocflag flag='custom'  unset='stop'/>
    <call event='halloween08.sfx.random[1-11]'/>
   </event>

  </section>

 </category>

 <category name='hopper'>

  <section name='diesel'>

   <event num='1'>
    <comment>Hopper departs from CDs</comment>
    <announce type='single' loc='325' lo='hopper.diesel.1'/>
    <announce type='single' loc='579' lo='hopper.diesel.2'/>
    <changelink loc='325' exit='in' action='remove' />
    <changelink loc='579' exit='out' action='remove' />
    <delayevent delay='10' logoff='hopper.marsport.2'/>
   </event>

   <event num='2'>
    <comment>Hopper arrives at CDs</comment>
    <announce type='single' loc='325' lo='hopper.diesel.3'/>
    <announce type='single' loc='579' lo='hopper.diesel.4'/>
    <changelink loc='579' exit='out' action='add' new-loc='325'/>
    <changelink loc='325' exit='in' action='add' new-loc='579'/>
    <delayevent delay='10' logoff='hopper.diesel.1'/>
   </event>

  </section>

  <section name='marsport'>

   <event num='1'>
    <comment>Hopper departs from Marsport</comment>
    <announce type='single' loc='773' lo='hopper.marsport.1'/>
    <announce type='single' loc='579' lo='hopper.marsport.2'/>
    <changelink loc='773' exit='in' action='remove' />
    <changelink loc='579' exit='out' action='remove' />
    <delayevent delay='10' logoff='hopper.diesel.2'/>
   </event>

   <event num='2'>
    <comment>Hopper arrives at Marsport</comment>
    <announce type='single' loc='773' lo='hopper.marsport.3'/>
    <announce type='single' loc='579' lo='hopper.marsport.4'/>
    <changelink loc='579' exit='out' action='add' new-loc='773'/>
    <changelink loc='773' exit='in' action='add' new-loc='579'/>
    <delayevent delay='10' logoff='hopper.marsport.1'/>
   </event>

  </section>

 </category>

 <category name='keyring'>

  <section name='bauble'>

   <event num='1'>
    <comment>Examine/ex bauble charm</comment>
    <message type='single' where='com' who='individual' lo='keyring.bauble.1'/>
   </event>

   <event num='2'>
    <comment>Squeeze charm</comment>
    <message type='multi' where='com' who='individual' lo='keyring.bauble.2' hi='keyring.bauble.3'/>
    <message type='multi' where='com' who='room_ex' lo='keyring.bauble.4' hi='keyring.bauble.5'/>
   </event>

   <event num='3'>
    <comment>Drop bauble charm</comment>
    <message type='single' where='com' who='individual' lo='keyring.bauble.6'/>
   </event>

   <event num='4'>
    <comment>Break bauble charm</comment>
    <message type='single' where='com' who='individual' lo='keyring.bauble.7'/>
    <destroyobject where='inventory' map='home' id-name='bauble charm'/>
   </event>

  </section>

  <section name='charm'>

   <event num='1'>
    <comment>Player wants to buy tinsel charm - check for keyring</comment>
    <checkflag who='individual' flag ='keyring'  set='keyring.charm.3' unset='keyring.charm.2'/>
   </event>

   <event num='2'>
    <comment>Player has no keyring</comment>
    <message type='single' where='com' who='individual' lo='keyring.charm.2'/>
   </event>

   <event num='3'>
    <comment>Check for slithy</comment>
    <checkslithy value='1' pass='keyring.charm.4' fail='keyring.charm.5'/>
   </event>

   <event num='4'>
    <comment>Buy the charm</comment>
    <changeslithy value='-1' change='add'/>
    <createobject where='inventory' home-map='home' id='charm_tinsel11'/>
    <log>SLITHY: %s - tinsel_charm</log>
    <message type='single' where='com' who='individual' lo='keyring.charm.3'/>
   </event>

   <event num='5'>
    <comment>No slithy</comment>
    <message type='single' where='com' who='individual' lo='keyring.charm.1'/>
   </event>

  </section>

  <section name='craftsman'>

   <event num='1'>
    <comment>talk to the craftsman</comment>
    <nomatch id-name='obj_craftsman' lo='keyring.craftsman.1'/>
   </event>

  </section>

  <section name='ghost'>

   <event num='1'>
    <comment>Shake ghost charm</comment>
    <message type='multi' where='com' who='individual' lo='keyring.ghost.1' hi='keyring.ghost.2'/>
    <message type='single' where='com' who='room_ex' lo='keyring.ghost.3'/>
   </event>

   <event num='2'>
    <comment>Drop charm</comment>
    <message type='single' where='com' who='individual' lo='keyring.ghost.4'/>
   </event>

   <event num='3'>
    <comment>Break charm</comment>
    <message type='single' where='com' who='individual' lo='keyring.ghost.5'/>
    <destroyobject where='inventory' map='home' id-name='ghost charm'/>
   </event>

   <event num='4'>
    <comment>Examine ghost charm</comment>
    <message type='single' where='com' who='individual' lo='keyring.ghost.6'/>
   </event>

  </section>

  <section name='globe'>

   <event num='1'>
    <comment>Examine/ex globe charm</comment>
    <message type='single' where='com' who='individual' lo='keyring.globe.1'/>
   </event>

   <event num='2'>
    <comment>Wind globe charm</comment>
    <message type='multi' where='com' who='individual' lo='keyring.globe.2' hi='keyring.globe.4'/>
    <message type='multi' where='com' who='room_ex' lo='keyring.globe.5' hi='keyring.globe.7'/>
   </event>

   <event num='3'>
    <comment>Drop</comment>
    <message type='single' where='com' who='individual' lo='keyring.globe.8'/>
   </event>

   <event num='4'>
    <comment>Break</comment>
    <message type='single' where='com' who='individual' lo='keyring.globe.9'/>
    <destroyobject where='inventory' map='home' id-name='globe charm'/>
   </event>

  </section>

  <section name='heart'>

   <event num='1'>
    <comment>Examine heart charm</comment>
    <message type='single' where='com' who='individual' lo='keyring.heart.1'/>
   </event>

   <event num='2'>
    <comment>Drop heart charm</comment>
    <message type='single' where='com' who='individual' lo='keyring.heart.2'/>
   </event>

   <event num='3'>
    <comment>Destroy heart charm</comment>
    <message type='single' where='com' who='individual' lo='keyring.heart.3'/>
    <destroyobject where='inventory' map='home' id-name='heart charm'/>
   </event>

   <event num='4'>
    <comment>break heart charm</comment>
    <message type='single' where='com' who='individual' lo='keyring.heart.4'/>
    <message type='single' where='com' who='room_ex' lo='keyring.heart.5'/>
    <call event='keyring.heart.random[5-9]'/>
    <message type='single' where='com' who='individual' lo='keyring.heart.6'/>
    <message type='single' where='com' who='room_ex' lo='keyring.heart.7'/>
   </event>

   <event num='5'>
    <comment>Option 1</comment>
    <message type='single' where='com' who='room' lo='keyring.heart.8'/>
   </event>

   <event num='6'>
    <comment>Option 2</comment>
    <message type='single' where='com' who='room' lo='keyring.heart.9'/>
   </event>

   <event num='7'>
    <comment>Option 3</comment>
    <message type='single' where='com' who='room' lo='keyring.heart.10'/>
   </event>

   <event num='8'>
    <comment>Option 4</comment>
    <message type='single' where='com' who='room' lo='keyring.heart.11'/>
   </event>

   <event num='9'>
    <comment>Option 5</comment>
    <message type='single' where='com' who='room' lo='keyring.heart.12'/>
   </event>

  </section>

  <section name='mayflower'>

   <event num='1'>
    <comment>Shake mayflower charm</comment>
    <message type='multi' where='com' who='individual' lo='keyring.mayflower.1' hi='keyring.mayflower.2'/>
    <message type='single' where='com' who='room_ex' lo='keyring.mayflower.3'/>
   </event>

   <event num='2'>
    <comment>Drop charm</comment>
    <message type='single' where='com' who='individual' lo='keyring.mayflower.4'/>
   </event>

   <event num='3'>
    <comment>Break charm</comment>
    <message type='single' where='com' who='individual' lo='keyring.mayflower.5'/>
    <destroyobject where='inventory' map='home' id-name='mayflower charm'/>
   </event>

   <event num='4'>
    <comment>Examine ghost charm</comment>
    <message type='single' where='com' who='individual' lo='keyring.mayflower.6'/>
   </event>

  </section>

  <section name='pulsar'>

   <event num='1'>
    <comment>Examine staff pulsar</comment>
    <message type='single' where='com' who='individual' lo='keyring.pulsar.1'/>
   </event>

   <event num='2'>
    <comment>Shake staff pulsar</comment>
    <message type='multi' where='com' who='individual' lo='keyring.pulsar.2' hi='keyring.pulsar.4'/>
    <message type='multi' where='com' who='room_ex' lo='keyring.pulsar.5' hi='keyring.pulsar.7'/>
   </event>

   <event num='3'>
    <comment>Drop staff pulsar</comment>
    <message type='single' where='com' who='individual' lo='keyring.pulsar.8'/>
   </event>

   <event num='4'>
    <comment>Break staff pulsar</comment>
    <message type='single' where='com' who='individual' lo='keyring.pulsar.9'/>
    <destroyobject where='inventory' map='home' id-name='staff pulsar'/>
   </event>

  </section>

  <section name='snowman'>

   <event num='1'>
    <comment>Shake snowman charm</comment>
    <message type='multi' where='com' who='individual' lo='keyring.snowman.1' hi='keyring.snowman.2'/>
    <message type='single' where='com' who='room_ex' lo='keyring.snowman.3'/>
   </event>

   <event num='2'>
    <comment>Drop charm</comment>
    <message type='single' where='com' who='individual' lo='keyring.snowman.4'/>
   </event>

   <event num='3'>
    <comment>Break charm</comment>
    <message type='single' where='com' who='individual' lo='keyring.snowman.5'/>
    <destroyobject where='inventory' map='home' id-name='snowman charm'/>
   </event>

   <event num='4'>
    <comment>Examine snowman charm</comment>
    <message type='single' where='com' who='individual' lo='keyring.snowman.6'/>
   </event>

  </section>

  <section name='spider'>

   <event num='1'>
    <comment>Examine/ex spider charm</comment>
    <message type='single' where='com' who='individual' lo='keyring.spider.1'/>
   </event>

   <event num='2'>
    <comment>Squeeze charm</comment>
    <message type='multi' where='com' who='individual' lo='keyring.spider.2' hi='keyring.spider.6'/>
    <message type='multi' where='com' who='room_ex' lo='keyring.spider.7' hi='keyring.spider.11'/>
   </event>

   <event num='3'>
    <comment>Drop spider charm</comment>
    <message type='single' where='com' who='individual' lo='keyring.spider.12'/>
   </event>

   <event num='4'>
    <comment>Break spider charm</comment>
    <message type='single' where='com' who='individual' lo='keyring.spider.13'/>
    <destroyobject where='inventory' map='home' id-name='spider charm'/>
   </event>

  </section>

  <section name='tinsel'>

   <event num='1'>
    <comment>Examine/ex tinsel charm</comment>
    <message type='single' where='com' who='individual' lo='keyring.tinsel.1'/>
   </event>

   <event num='2'>
    <comment>Twirl/use tinsel charm</comment>
    <message type='single' where='com' who='individual' lo='keyring.tinsel.2'/>
    <message type='single' where='com' who='room_ex' lo='keyring.tinsel.3'/>
    <call event='keyring.tinsel.random[3-8]'/>
   </event>

   <event num='3'>
    <comment>Option 1</comment>
    <message type='single' where='com' who='individual' lo='keyring.tinsel.4'/>
    <message type='single' where='com' who='room_ex' lo='keyring.tinsel.5'/>
   </event>

   <event num='4'>
    <comment>Option 2</comment>
    <message type='single' where='com' who='individual' lo='keyring.tinsel.6'/>
    <message type='single' where='com' who='room_ex' lo='keyring.tinsel.7'/>
   </event>

   <event num='5'>
    <comment>Option 3</comment>
    <message type='single' where='com' who='individual' lo='keyring.tinsel.8'/>
    <message type='single' where='com' who='room_ex' lo='keyring.tinsel.9'/>
   </event>

   <event num='6'>
    <comment>Option 4</comment>
    <message type='multi' where='com' who='individual' lo='keyring.tinsel.10' hi='keyring.tinsel.11'/>
    <message type='multi' where='com' who='room_ex' lo='keyring.tinsel.12' hi='keyring.tinsel.13'/>
   </event>

   <event num='7'>
    <comment>Option 5</comment>
    <message type='single' where='com' who='individual' lo='keyring.tinsel.14'/>
    <message type='single' where='com' who='room_ex' lo='keyring.tinsel.15'/>
   </event>

   <event num='8'>
    <comment>Option 6</comment>
    <message type='multi' where='com' who='individual' lo='keyring.tinsel.16' hi='keyring.tinsel.17'/>
    <message type='multi' where='com' who='room_ex' lo='keyring.tinsel.18' hi='keyring.tinsel.19'/>
   </event>

   <event num='9'>
    <comment>Drop</comment>
    <message type='single' where='com' who='individual' lo='keyring.tinsel.20'/>
   </event>

   <event num='10'>
    <comment>Break</comment>
    <message type='single' where='com' who='individual' lo='keyring.tinsel.21'/>
    <destroyobject where='inventory' map='home' id-name='tinsel charm'/>
   </event>

  </section>

 </category>

 <category name='locations'>

  <section name='grand_tour'>

   <event num='1'>
    <comment>stop players getting in to the grand tour</comment>
    <checkflag who='individual' flag ='staff'  unset='locations.grand_tour.2'/>
   </event>

   <event num='2'>
    <comment>player is not staff</comment>
    <message type='text' where='com' who='individual'>A flunky wearing a purple crushed velvet suit tells you that the Pickwick Bros Grand Tour is not yet open to the public.</message>
    <move what='player' who='individual' loc='260'/>
   </event>

  </section>

 </category>

 <category name='martians'>

  <section name='lights'>

   <event num='1'>
    <comment>Martian lights sequence, called by start event - select which messages to send</comment>
    <call event='martians.lights.random[2-6]'/>
   </event>

   <event num='2'>
    <comment>Option 1</comment>
    <announce type='single' loc='772' lo='martians.lights.1'/>
    <announce type='single' loc='773' lo='martians.lights.1'/>
    <announce type='single' loc='836' lo='martians.lights.1'/>
    <announce type='single' loc='837' lo='martians.lights.1'/>
    <announce type='single' loc='709' lo='martians.lights.1'/>
    <announce type='single' loc='645' lo='martians.lights.1'/>
    <announce type='single' loc='581' lo='martians.lights.1'/>
    <announce type='single' loc='517' lo='martians.lights.1'/>
    <announce type='single' loc='453' lo='martians.lights.1'/>
    <announce type='single' loc='389' lo='martians.lights.1'/>
    <announce type='single' loc='325' lo='martians.lights.1'/>
    <announce type='single' loc='261' lo='martians.lights.1'/>
    <announce type='single' loc='259' lo='martians.lights.1'/>
    <announce type='single' loc='452' lo='martians.lights.2'/>
    <announce type='single' loc='260' lo='martians.lights.2'/>
    <announce type='single' loc='644' lo='martians.lights.2'/>
    <delayevent delay='3180' logoff='martians.lights.1'/>
   </event>

   <event num='3'>
    <comment>Option 2</comment>
    <announce type='single' loc='772' lo='martians.lights.3'/>
    <announce type='single' loc='773' lo='martians.lights.3'/>
    <announce type='single' loc='836' lo='martians.lights.3'/>
    <announce type='single' loc='837' lo='martians.lights.3'/>
    <announce type='single' loc='709' lo='martians.lights.3'/>
    <announce type='single' loc='645' lo='martians.lights.3'/>
    <announce type='single' loc='581' lo='martians.lights.3'/>
    <announce type='single' loc='517' lo='martians.lights.3'/>
    <announce type='single' loc='453' lo='martians.lights.3'/>
    <announce type='single' loc='389' lo='martians.lights.3'/>
    <announce type='single' loc='325' lo='martians.lights.3'/>
    <announce type='single' loc='261' lo='martians.lights.3'/>
    <announce type='single' loc='259' lo='martians.lights.3'/>
    <announce type='single' loc='452' lo='martians.lights.4'/>
    <announce type='single' loc='260' lo='martians.lights.4'/>
    <announce type='single' loc='644' lo='martians.lights.4'/>
    <delayevent delay='3180' logoff='martians.lights.1'/>
   </event>

   <event num='4'>
    <comment>Option 3</comment>
    <announce type='single' loc='772' lo='martians.lights.5'/>
    <announce type='single' loc='773' lo='martians.lights.5'/>
    <announce type='single' loc='836' lo='martians.lights.5'/>
    <announce type='single' loc='837' lo='martians.lights.5'/>
    <announce type='single' loc='709' lo='martians.lights.5'/>
    <announce type='single' loc='645' lo='martians.lights.5'/>
    <announce type='single' loc='581' lo='martians.lights.5'/>
    <announce type='single' loc='517' lo='martians.lights.5'/>
    <announce type='single' loc='453' lo='martians.lights.5'/>
    <announce type='single' loc='389' lo='martians.lights.5'/>
    <announce type='single' loc='325' lo='martians.lights.5'/>
    <announce type='single' loc='261' lo='martians.lights.5'/>
    <announce type='single' loc='259' lo='martians.lights.5'/>
    <announce type='single' loc='452' lo='martians.lights.6'/>
    <announce type='single' loc='260' lo='martians.lights.6'/>
    <announce type='single' loc='644' lo='martians.lights.6'/>
    <delayevent delay='3180' logoff='martians.lights.1'/>
   </event>

   <event num='5'>
    <comment>Option 4</comment>
    <announce type='single' loc='772' lo='martians.lights.7'/>
    <announce type='single' loc='773' lo='martians.lights.7'/>
    <announce type='single' loc='836' lo='martians.lights.7'/>
    <announce type='single' loc='837' lo='martians.lights.7'/>
    <announce type='single' loc='709' lo='martians.lights.7'/>
    <announce type='single' loc='645' lo='martians.lights.7'/>
    <announce type='single' loc='581' lo='martians.lights.7'/>
    <announce type='single' loc='517' lo='martians.lights.7'/>
    <announce type='single' loc='453' lo='martians.lights.7'/>
    <announce type='single' loc='389' lo='martians.lights.7'/>
    <announce type='single' loc='325' lo='martians.lights.7'/>
    <announce type='single' loc='261' lo='martians.lights.7'/>
    <announce type='single' loc='259' lo='martians.lights.7'/>
    <announce type='single' loc='452' lo='martians.lights.8'/>
    <announce type='single' loc='260' lo='martians.lights.8'/>
    <announce type='single' loc='644' lo='martians.lights.8'/>
    <delayevent delay='3180' logoff='martians.lights.1'/>
   </event>

   <event num='6'>
    <comment>Option 5</comment>
    <announce type='single' loc='772' lo='martians.lights.9'/>
    <announce type='single' loc='773' lo='martians.lights.9'/>
    <announce type='single' loc='836' lo='martians.lights.9'/>
    <announce type='single' loc='837' lo='martians.lights.9'/>
    <announce type='single' loc='709' lo='martians.lights.9'/>
    <announce type='single' loc='645' lo='martians.lights.9'/>
    <announce type='single' loc='581' lo='martians.lights.9'/>
    <announce type='single' loc='517' lo='martians.lights.9'/>
    <announce type='single' loc='453' lo='martians.lights.9'/>
    <announce type='single' loc='389' lo='martians.lights.9'/>
    <announce type='single' loc='325' lo='martians.lights.9'/>
    <announce type='single' loc='261' lo='martians.lights.9'/>
    <announce type='single' loc='259' lo='martians.lights.9'/>
    <announce type='single' loc='452' lo='martians.lights.10'/>
    <announce type='single' loc='260' lo='martians.lights.10'/>
    <announce type='single' loc='644' lo='martians.lights.10'/>
    <delayevent delay='3180' logoff='martians.lights.1'/>
   </event>

  </section>

 </category>

 <category name='meteor'>

  <section name='craftsdroid'>

   <event num='1'>
    <comment>Talk to the craftsdroid - but get rebuffed</comment>
    <nomatch id-name='obj_craftsdroid' lo='meteor.craftsdroid.1'/>
   </event>

  </section>

  <section name='food'>

   <event num='1'>
    <comment>Buy drink/get drink</comment>
    <message type='single' where='com' who='individual' lo='meteor.food.1'/>
    <changestat who='individual' stamina='2' change='add' cur-max='current'/>
   </event>

   <event num='2'>
    <comment>Buy round</comment>
    <message type='single' where='com' who='individual' lo='meteor.food.2'/>
    <message type='single' where='com' who='room_ex' lo='meteor.food.3'/>
    <changestat who='room' stamina='2' change='add' cur-max='current'/>
   </event>

  </section>

  <section name='shower'>

   <event num='1'>
    <comment>Announcement in 259 - meteor flashes - option 1</comment>
    <announce type='single' loc='259' lo='meteor.shower.1'/>
    <delayevent delay='300' logoff='meteor.shower.11'/>
   </event>

   <event num='2'>
    <comment>Announcement in 259 - meteor flashes - option 2</comment>
    <announce type='single' loc='259' lo='meteor.shower.2'/>
    <delayevent delay='300' logoff='meteor.shower.11'/>
   </event>

   <event num='3'>
    <comment>Announcement in 259 - meteor flashes - option 3</comment>
    <announce type='single' loc='259' lo='meteor.shower.3'/>
    <delayevent delay='300' logoff='meteor.shower.11'/>
   </event>

   <event num='4'>
    <comment>Announcement in 259 - meteor flashes - option 4</comment>
    <announce type='single' loc='259' lo='meteor.shower.4'/>
    <delayevent delay='300' logoff='meteor.shower.11'/>
   </event>

   <event num='5'>
    <comment>Announcement in 259 - meteor flashes - option 5</comment>
    <announce type='single' loc='259' lo='meteor.shower.5'/>
    <delayevent delay='300' logoff='meteor.shower.11'/>
   </event>

   <event num='6'>
    <comment>Announcement in 259 - meteor flashes - option 6</comment>
    <announce type='single' loc='259' lo='meteor.shower.6'/>
    <delayevent delay='300' logoff='meteor.shower.11'/>
   </event>

   <event num='7'>
    <comment>Announcement in 259 - meteor flashes - option 7</comment>
    <announce type='single' loc='259' lo='meteor.shower.7'/>
    <delayevent delay='300' logoff='meteor.shower.11'/>
   </event>

   <event num='8'>
    <comment>Announcement in 259 - meteor flashes - option 8</comment>
    <announce type='single' loc='259' lo='meteor.shower.8'/>
    <delayevent delay='300' logoff='meteor.shower.11'/>
   </event>

   <event num='9'>
    <comment>Announcement in 259 - meteor flashes - option 9</comment>
    <announce type='single' loc='259' lo='meteor.shower.9'/>
    <delayevent delay='300' logoff='meteor.shower.11'/>
   </event>

   <event num='10'>
    <comment>Announcement in 259 - meteor flashes - option 10</comment>
    <announce type='single' loc='259' lo='meteor.shower.10'/>
    <delayevent delay='300' logoff='meteor.shower.11'/>
   </event>

   <event num='11'>
    <comment>Select which announcement to use</comment>
    <call event='meteor.shower.random[1-10]'/>
   </event>

  </section>

  <section name='staff'>

   <event num='1'>
    <comment>Enter event on roof garden 259 - turn back non-staff</comment>
    <checkflag who='individual' flag ='staff'  set='stop'/>
    <message type='single' where='com' who='individual' lo='meteor.staff.1'/>
    <move what='player' who='individual' loc='260'/>
   </event>

  </section>

  <section name='star'>

   <event num='1'>
    <comment>Catch a falling star...</comment>
    <message type='single' where='com' who='individual' lo='meteor.star.1'/>
    <message type='single' where='com' who='room_ex' lo='meteor.star.2'/>
    <checkinventory map='home' id-name='stardust' found='meteor.star.2' not-found='meteor.star.3'/>
   </event>

   <event num='2'>
    <comment>Already got stardust</comment>
    <message type='single' where='com' who='individual' lo='meteor.star.3'/>
   </event>

   <event num='3'>
    <comment>Not got stardust, so create it</comment>
    <message type='single' where='com' who='individual' lo='meteor.star.4'/>
    <createobject where='inventory' home-map='home' id='obj_stardust'/>
   </event>

  </section>

  <section name='stardust'>

   <event num='1'>
    <comment>Examine stardust</comment>
    <message type='single' where='com' who='individual' lo='meteor.stardust.1'/>
   </event>

   <event num='2'>
    <comment>Shake stardust</comment>
    <message type='single' where='com' who='individual' lo='meteor.stardust.2'/>
    <message type='single' where='com' who='room_ex' lo='meteor.stardust.3'/>
   </event>

   <event num='3'>
    <comment>Break stardust</comment>
    <message type='single' where='com' who='individual' lo='meteor.stardust.4'/>
    <message type='single' where='com' who='room_ex' lo='meteor.stardust.5'/>
    <destroyobject where='inventory' map='home' id-name='stardust'/>
   </event>

   <event num='4'>
    <comment>Display stardust</comment>
    <message type='single' where='com' who='individual' lo='meteor.stardust.6'/>
    <message type='single' where='com' who='room_ex' lo='meteor.stardust.7'/>
   </event>

   <event num='5'>
    <comment>Contemplate stardust</comment>
    <message type='multi' where='com' who='individual' lo='meteor.stardust.8' hi='meteor.stardust.10'/>
    <message type='single' where='com' who='room_ex' lo='meteor.stardust.11'/>
   </event>

  </section>

 </category>

 <category name='mobiles'>

  <section name='cleaner'>

   <event num='1'>
    <comment>Kick robocleaner</comment>
    <message type='single' where='com' who='individual' lo='mobiles.cleaner.1'/>
    <message type='single' where='com' who='room_ex' lo='mobiles.cleaner.2'/>
   </event>

   <event num='2'>
    <comment>Get robocleaner</comment>
    <message type='single' where='com' who='individual' lo='mobiles.cleaner.3'/>
    <message type='single' where='com' who='room_ex' lo='mobiles.cleaner.4'/>
   </event>

   <event num='3'>
    <comment>Converse with</comment>
    <message type='single' where='com' who='individual' lo='mobiles.cleaner.5'/>
   </event>

  </section>

 </category>

 <category name='moves'>

  <section name='ruins'>

   <event num='1'>
    <comment>Movement from pentagonal room to treasure room (loc 216) - on dummy loc 348</comment>
    <message type='single' where='loc' who='individual' lo='moves.ruins.1'/>
    <move what='player' who='individual' loc='216'/>
   </event>

   <event num='2'>
    <comment>Movement out of treasure room (217) - check for opal</comment>
    <checkinventory map='sol/mars' id-name='obj_opal' found='moves.ruins.21' not-found='moves.ruins.22'/>
   </event>

   <event num='3'>
    <comment>Move to maze - option 1</comment>
    <move what='player' who='individual' loc='408'/>
   </event>

   <event num='4'>
    <comment>Move to maze - option 2</comment>
    <move what='player' who='individual' loc='471'/>
   </event>

   <event num='5'>
    <comment>Move to maze - option 3</comment>
    <move what='player' who='individual' loc='472'/>
   </event>

   <event num='6'>
    <comment>Move to maze - option 4</comment>
    <move what='player' who='individual' loc='473'/>
   </event>

   <event num='7'>
    <comment>Move to maze - option 5</comment>
    <move what='player' who='individual' loc='535'/>
   </event>

   <event num='8'>
    <comment>Move to maze - option 6</comment>
    <move what='player' who='individual' loc='536'/>
   </event>

   <event num='9'>
    <comment>Move to maze - option 7</comment>
    <move what='player' who='individual' loc='537'/>
   </event>

   <event num='10'>
    <comment>Move to maze - option 8</comment>
    <move what='player' who='individual' loc='600'/>
   </event>

   <event num='11'>
    <comment>Move to maze - option 9</comment>
    <move what='player' who='individual' loc='601'/>
   </event>

   <event num='12'>
    <comment>Move to maze - option 10</comment>
    <move what='player' who='individual' loc='603'/>
   </event>

   <event num='13'>
    <comment>Move to maze - option 11</comment>
    <move what='player' who='individual' loc='604'/>
   </event>

   <event num='14'>
    <comment>Move to maze - option 12</comment>
    <move what='player' who='individual' loc='666'/>
   </event>

   <event num='15'>
    <comment>Move to maze - option 13</comment>
    <move what='player' who='individual' loc='669'/>
   </event>

   <event num='16'>
    <comment>Move to maze - option 14</comment>
    <move what='player' who='individual' loc='729'/>
   </event>

   <event num='17'>
    <comment>Move to maze - option 15</comment>
    <move what='player' who='individual' loc='731'/>
   </event>

   <event num='18'>
    <comment>Move to maze - option 16</comment>
    <move what='player' who='individual' loc='732'/>
   </event>

   <event num='19'>
    <comment>Move to maze - option 17</comment>
    <move what='player' who='individual' loc='793'/>
   </event>

   <event num='20'>
    <comment>Move to maze - option 18</comment>
    <move what='player' who='individual' loc='795'/>
   </event>

   <event num='21'>
    <comment>If player is carrying opal on trying to get out of treasure room...</comment>
    <message type='single' where='com' who='individual' lo='moves.ruins.3'/>
    <move what='player' who='individual' loc='217'/>
   </event>

   <event num='22'>
    <comment>If player is not carrying opal - move to random loc in maze</comment>
    <message type='single' where='com' who='individual' lo='moves.ruins.2'/>
    <call event='moves.ruins.random[3-20]'/>
   </event>

  </section>

 </category>

 <category name='newbod'>

  <section name='card'>

   <event num='1'>
    <comment>Is player doing newbod puzzle? If so do the necessary...</comment>
    <call event='xmas09.snowball.6'/>
    <call event='objects.marsrat.8'/>
    <checkvariable name='newbod' key='clue' value='four' not-equal='stop'/>
    <checkinventory map='home' id-name='card' found='stop'/>
    <createobject where='inventory' home-map='sol/mars' id='obj_card'/>
    <message type='text' where='com' who='individual'>You approach the musician and tell him the clue. Three arms continue playing his instrument while the fourth reaches into his jacket and produces a card, which he gives you, telling you to give it to Victor.</message>
   </event>

   <event num='2'>
    <comment>Player drops the card</comment>
    <destroyobject where='inventory' map='home' id-name='card'/>
    <message type='text' where='com' who='individual'>There is a puff of smoke as the card&apos;s anti-litter mechanism activates. Then all trace of the card is gone.</message>
   </event>

  </section>

 </category>

 <category name='objects'>

  <section name='artifacts'>

   <event num='1'>
    <comment>Search command on loc 528 - Courtyard</comment>
    <message type='single' where='com' who='individual' lo='objects.artifacts.1'/>
    <call event='objects.artifacts.random[2-6]'/>
    <changestat who='individual' stamina='-10' change='add' cur-max='current'/>
   </event>

   <event num='2'>
    <comment>Create object - vandier</comment>
    <createobject where='inventory' home-map='home' id='obj_vandier'/>
    <message type='single' where='com' who='individual' lo='objects.artifacts.9'/>
   </event>

   <event num='3'>
    <comment>Create object - sargeur</comment>
    <createobject where='inventory' home-map='home' id='obj_sargeur'/>
    <message type='single' where='com' who='individual' lo='objects.artifacts.10'/>
   </event>

   <event num='4'>
    <comment>Create object - globe</comment>
    <createobject where='inventory' home-map='home' id='obj_globe'/>
    <message type='single' where='com' who='individual' lo='objects.artifacts.11'/>
   </event>

   <event num='5'>
    <comment>create object - frigorificator</comment>
    <createobject where='inventory' home-map='home' id='obj_frig'/>
    <message type='single' where='com' who='individual' lo='objects.artifacts.12'/>
   </event>

   <event num='6'>
    <comment>create object - black box</comment>
    <createobject where='inventory' home-map='home' id='obj_blackbox'/>
    <message type='single' where='com' who='individual' lo='objects.artifacts.13'/>
   </event>

   <event num='7'>
    <comment>Drop vandier</comment>
    <message type='single' where='com' who='individual' lo='objects.artifacts.2'/>
    <destroyobject where='inventory' map='home' id-name='vandier'/>
   </event>

   <event num='8'>
    <comment>Drop sargeur</comment>
    <message type='single' where='com' who='individual' lo='objects.artifacts.3'/>
    <destroyobject where='inventory' map='home' id-name='sargeur'/>
   </event>

   <event num='9'>
    <comment>Drop globe</comment>
    <message type='single' where='com' who='individual' lo='objects.artifacts.4'/>
    <destroyobject where='inventory' map='home' id-name='globe'/>
   </event>

   <event num='10'>
    <comment>Drop frigorificator</comment>
    <message type='single' where='com' who='individual' lo='objects.artifacts.5'/>
    <destroyobject where='inventory' map='home' id-name='frigorificator'/>
   </event>

   <event num='11'>
    <comment>Examine frigorificator</comment>
    <message type='single' where='com' who='individual' lo='objects.artifacts.6'/>
   </event>

   <event num='12'>
    <comment>Drop black box</comment>
    <message type='single' where='com' who='individual' lo='objects.artifacts.7'/>
   </event>

   <event num='13'>
    <comment>Use any of the artifacts</comment>
    <message type='single' where='com' who='individual' lo='objects.artifacts.8'/>
   </event>

  </section>

  <section name='bones'>

   <event num='1'>
    <comment>Slab room - loc 914 - get skull - check if already got one</comment>
    <checkinventory map='home' id-name='skull' found='objects.bones.2' not-found='objects.bones.3'/>
   </event>

   <event num='2'>
    <comment>Already got a skull</comment>
    <message type='single' where='com' who='individual' lo='objects.bones.1'/>
   </event>

   <event num='3'>
    <comment>Not got one so create skull</comment>
    <message type='single' where='com' who='individual' lo='objects.bones.2'/>
    <message type='single' where='com' who='room_ex' lo='objects.bones.3'/>
    <createobject where='inventory' home-map='home' id='obj_skull'/>
   </event>

   <event num='4'>
    <comment>Narrow slit - loc 400 - get bone - check if already got one</comment>
    <checkinventory map='home' id-name='bone' found='objects.bones.5' not-found='objects.bones.6'/>
   </event>

   <event num='5'>
    <comment>Already got one</comment>
    <message type='single' where='com' who='individual' lo='objects.bones.4'/>
   </event>

   <event num='6'>
    <comment>Not got one so create bone</comment>
    <message type='single' where='com' who='individual' lo='objects.bones.5'/>
    <message type='single' where='com' who='room_ex' lo='objects.bones.6'/>
    <createobject where='inventory' home-map='home' id='obj_bone'/>
   </event>

   <event num='7'>
    <comment>Dormitory - loc 272 - get rib - check if already got one</comment>
    <checkinventory map='home' id-name='rib' found='objects.bones.8' not-found='objects.bones.9'/>
   </event>

   <event num='8'>
    <comment>Already got one</comment>
    <message type='single' where='com' who='individual' lo='objects.bones.7'/>
   </event>

   <event num='9'>
    <comment>Not got one so create rib</comment>
    <message type='single' where='com' who='individual' lo='objects.bones.8'/>
    <message type='single' where='com' who='room_ex' lo='objects.bones.9'/>
    <createobject where='inventory' home-map='home' id='obj_rib'/>
   </event>

   <event num='10'>
    <comment>Drop skull - check if player is in temple</comment>
    <checkmap map='home'  pass='temple.skull.1' fail='objects.bones.11' loc='271'/>
   </event>

   <event num='11'>
    <comment>Not in temple</comment>
    <message type='single' where='com' who='individual' lo='objects.bones.10'/>
    <message type='single' where='com' who='room_ex' lo='objects.bones.11'/>
    <destroyobject where='inventory' map='home' id-name='skull'/>
   </event>

   <event num='12'>
    <comment>Drop bone - check if player is in temple</comment>
    <checkmap map='home'  pass='temple.bone.1' fail='objects.bones.13' loc='271'/>
   </event>

   <event num='13'>
    <comment>Not in temple</comment>
    <message type='single' where='com' who='individual' lo='objects.bones.12'/>
    <message type='single' where='com' who='room_ex' lo='objects.bones.13'/>
    <destroyobject where='inventory' map='home' id-name='bone'/>
   </event>

   <event num='14'>
    <comment>Drop rib - check if player is in temple</comment>
    <checkmap map='home'  pass='temple.rib.1' fail='objects.bones.15' loc='271'/>
   </event>

   <event num='15'>
    <comment>Not in temple</comment>
    <message type='single' where='com' who='individual' lo='objects.bones.14'/>
    <message type='single' where='com' who='room_ex' lo='objects.bones.15'/>
    <destroyobject where='inventory' map='home' id-name='rib'/>
   </event>

  </section>

  <section name='cat'>

   <event num='1'>
    <comment>Get cat</comment>
    <message type='single' where='com' who='individual' lo='objects.cat.1'/>
    <message type='single' where='com' who='room_ex' lo='objects.cat.2'/>
    <changestat who='individual' stamina='-2' change='add' cur-max='current'/>
   </event>

   <event num='2'>
    <comment>Feed cat - check for fodder</comment>
    <checkinventory map='sol/earth' id-name='fodder' found='objects.cat.3' not-found='objects.cat.4'/>
   </event>

   <event num='3'>
    <comment>Got fodder</comment>
    <message type='single' where='com' who='individual' lo='objects.cat.3'/>
    <message type='single' where='com' who='room_ex' lo='objects.cat.4'/>
    <destroyobject where='inventory' map='earth' id-name='fodder'/>
   </event>

   <event num='4'>
    <comment>Not got fodder so check for catnip</comment>
    <checkinventory map='sol/earth' id-name='catnip' found='objects.cat.5' not-found='objects.cat.6'/>
   </event>

   <event num='5'>
    <comment>Got catnip</comment>
    <message type='single' where='com' who='individual' lo='objects.cat.5'/>
    <message type='single' where='com' who='room_ex' lo='objects.cat.6'/>
    <destroyobject where='inventory' map='earth' id-name='catnip'/>
   </event>

   <event num='6'>
    <comment>Nothing to feed cat with</comment>
    <message type='single' where='com' who='individual' lo='objects.cat.7'/>
   </event>

   <event num='7'>
    <comment>Pet/stroke cat - select from random options</comment>
    <call event='objects.cat.random[8-15]'/>
   </event>

   <event num='8'>
    <comment>Option 1</comment>
    <message type='single' where='com' who='individual' lo='objects.cat.8'/>
    <message type='single' where='com' who='room_ex' lo='objects.cat.9'/>
   </event>

   <event num='9'>
    <comment>Option 2</comment>
    <message type='single' where='com' who='individual' lo='objects.cat.10'/>
    <message type='single' where='com' who='room_ex' lo='objects.cat.11'/>
   </event>

   <event num='10'>
    <comment>Option 3</comment>
    <message type='single' where='com' who='individual' lo='objects.cat.12'/>
    <message type='single' where='com' who='room_ex' lo='objects.cat.13'/>
   </event>

   <event num='11'>
    <comment>Option 4</comment>
    <message type='single' where='com' who='individual' lo='objects.cat.14'/>
    <message type='single' where='com' who='room_ex' lo='objects.cat.15'/>
   </event>

   <event num='12'>
    <comment>Option 5</comment>
    <message type='single' where='com' who='individual' lo='objects.cat.16'/>
    <message type='single' where='com' who='room_ex' lo='objects.cat.17'/>
   </event>

   <event num='13'>
    <comment>Option 6</comment>
    <message type='single' where='com' who='individual' lo='objects.cat.18'/>
    <message type='single' where='com' who='room_ex' lo='objects.cat.19'/>
   </event>

   <event num='14'>
    <comment>Option 7</comment>
    <message type='single' where='com' who='individual' lo='objects.cat.20'/>
    <message type='single' where='com' who='room_ex' lo='objects.cat.21'/>
   </event>

   <event num='15'>
    <comment>Option 8</comment>
    <message type='single' where='com' who='individual' lo='objects.cat.22'/>
    <message type='single' where='com' who='room_ex' lo='objects.cat.23'/>
    <message type='single' where='com' who='room' lo='objects.cat.24'/>
   </event>

  </section>

  <section name='cheese'>

   <event num='1'>
    <comment>Loc 262 - get cheese</comment>
    <message type='single' where='com' who='individual' lo='objects.cheese.1'/>
   </event>

   <event num='2'>
    <comment>Buy cheese</comment>
    <checkstat who='individual' money='10' higher='objects.cheese.4' equals='objects.cheese.4' lower='objects.cheese.3'/>
   </event>

   <event num='3'>
    <comment>Can&apos;t afford cheese</comment>
    <message type='single' where='com' who='individual' lo='objects.cheese.2'/>
   </event>

   <event num='4'>
    <comment>Sell cheese</comment>
    <message type='single' where='com' who='individual' lo='objects.cheese.3'/>
    <changestat who='individual' money='-10' change='add' cur-max='current'/>
    <createobject where='inventory' home-map='home' id='obj_cheese'/>
   </event>

   <event num='5'>
    <comment>Eat cheese</comment>
    <message type='single' where='com' who='individual' lo='objects.cheese.4'/>
    <changestat who='individual' stamina='5' change='add' cur-max='current'/>
    <destroyobject where='inventory' map='home' id-name='cheese'/>
   </event>

   <event num='6'>
    <comment>Drop cheese - check if player is in empty office on Mars</comment>
    <checkmap map='home'  pass='objects.cheese.7' fail='objects.cheese.8' loc='328'/>
   </event>

   <event num='7'>
    <comment>Drop cheese in empty office</comment>
    <message type='single' where='com' who='individual' lo='objects.cheese.5'/>
    <message type='single' where='com' who='room_ex' lo='objects.cheese.6'/>
    <destroyobject where='inventory' map='home' id-name='cheese'/>
   </event>

   <event num='8'>
    <comment>Drop cheese elsewhere</comment>
    <message type='single' where='com' who='individual' lo='objects.cheese.7'/>
    <message type='single' where='com' who='room_ex' lo='objects.cheese.8'/>
    <destroyobject where='inventory' map='home' id-name='cheese'/>
   </event>

   <event num='9'>
    <comment>In event on loc 328 - check if player is carrying cheese</comment>
    <checkinventory map='home' id-name='cheese' not-found='stop'/>
    <message type='single' where='com' who='individual' lo='objects.cheese.9'/>
   </event>

  </section>

  <section name='choc'>

   <event num='1'>
    <comment>Enter event on CDs - called from the newbod.card event - check if they have come from street</comment>
    <checklastloc loc='325' fail='stop'/>
    <message type='text' where='com' who='individual'>As you enter the bar, one of the waitdroids hands you a chocolate, and tells you that the gift has been sponsored by Chocolate Heaven of Magellan, purveyors of the finest confectionery.</message>
    <createobject where='inventory' home-map='sol/mars' id='obj_choc'/>
   </event>

   <event num='2'>
    <comment>Drop chocolate</comment>
    <destroyobject where='inventory' map='home' id-name='chocolate'/>
    <message type='single' where='com' who='individual' lo='objects.choc.1'/>
   </event>

   <event num='3'>
    <comment>Unwrap/eat chocolate</comment>
    <destroyobject where='inventory' map='home' id-name='chocolate'/>
    <message type='multi' where='com' who='individual' lo='objects.choc.2' hi='objects.choc.3'/>
   </event>

  </section>

  <section name='crayon'>

   <event num='1'>
    <comment>Examine christmas crayon</comment>
    <message type='single' where='com' who='individual' lo='objects.crayon.1'/>
   </event>

   <event num='2'>
    <comment>Drop christmas crayon</comment>
    <message type='single' where='com' who='individual' lo='objects.crayon.2'/>
   </event>

   <event num='3'>
    <comment>Break Christmas crayon</comment>
    <message type='single' where='com' who='individual' lo='objects.crayon.3'/>
    <destroyobject where='inventory' map='home' id-name='christmas crayon'/>
   </event>

   <event num='4'>
    <comment>Use Christmas crayon</comment>
    <message type='multi' where='com' who='individual' lo='objects.crayon.4' hi='objects.crayon.5'/>
    <message type='multi' where='com' who='room_ex' lo='objects.crayon.6' hi='objects.crayon.7'/>
   </event>

  </section>

  <section name='diesel'>

   <event num='1'>
    <comment>Talk to Diesel</comment>
    <match phrase='hello' id-name='obj_diesel' lo='objects.diesel.1'/>
    <match phrase='bye' id-name='obj_diesel' lo='objects.diesel.2'/>
    <match phrase='job' id-name='obj_diesel' lo='objects.diesel.3' hi='objects.diesel.4'/>
    <match phrase='profession' id-name='obj_diesel' lo='objects.diesel.3' hi='objects.diesel.4'/>
    <match phrase='bar' id-name='obj_diesel' lo='objects.diesel.5' hi='objects.diesel.7'/>
    <match phrase='chez diesel' id-name='obj_diesel' lo='objects.diesel.5' hi='objects.diesel.7'/>
    <match phrase='mars' id-name='obj_diesel' lo='objects.diesel.8' hi='objects.diesel.11'/>
    <match phrase='earth' id-name='obj_diesel' lo='objects.diesel.12' hi='objects.diesel.13'/>
    <match phrase='martians' id-name='obj_diesel' lo='objects.diesel.14' hi='objects.diesel.16'/>
    <match phrase='alien' id-name='obj_diesel' lo='objects.diesel.17' hi='objects.diesel.18'/>
    <match phrase='ruins' id-name='obj_diesel' lo='objects.diesel.19' hi='objects.diesel.22'/>
    <match phrase='drink' id-name='obj_diesel' lo='objects.diesel.23' hi='objects.diesel.24'/>
    <match phrase='ale' id-name='obj_diesel' lo='objects.diesel.23' hi='objects.diesel.24'/>
    <match phrase='beer' id-name='obj_diesel' lo='objects.diesel.23' hi='objects.diesel.24'/>
    <match phrase='old peculiar' id-name='obj_diesel' lo='objects.diesel.23' hi='objects.diesel.24'/>
    <match phrase='recipe' id-name='obj_diesel' lo='objects.diesel.25'/>
    <match phrase='pizza' id-name='obj_diesel' lo='objects.diesel.26' hi='objects.diesel.27'/>
    <match phrase='moose' id-name='obj_diesel' lo='objects.diesel.26' hi='objects.diesel.27'/>
    <match phrase='food' id-name='obj_diesel' lo='objects.diesel.26' hi='objects.diesel.27'/>
    <match phrase='ming' id-name='obj_diesel' lo='objects.diesel.28' hi='objects.diesel.30'/>
    <match phrase='executive services' id-name='obj_diesel' lo='objects.diesel.31'/>
    <match phrase='voucher' id-name='obj_diesel' lo='objects.diesel.31'/>
    <match phrase='lv' id-name='obj_diesel' lo='objects.diesel.31'/>
    <match phrase='fountain' id-name='obj_diesel' lo='objects.diesel.32'/>
    <match phrase='pianist' id-name='obj_diesel' lo='objects.diesel.33' hi='objects.diesel.35'/>
    <match phrase='arcturian' id-name='obj_diesel' lo='objects.diesel.33' hi='objects.diesel.35'/>
    <match phrase='galactic admin' id-name='obj_diesel' lo='objects.diesel.36'/>
    <match phrase='pegasus' id-name='obj_diesel' lo='objects.diesel.37' hi='objects.diesel.38'/>
    <match phrase='gaelaan' id-name='obj_diesel' lo='objects.diesel.39'/>
    <match phrase='religion' id-name='obj_diesel' lo='objects.diesel.40' hi='objects.diesel.42'/>
    <match phrase='diese' id-name='obj_diesel' lo='objects.diesel.3' hi='objects.diesel.4'/>
    <match phrase='bob' id-name='obj_diesel' lo='objects.diesel.51'/>
    <match phrase='leather' id-name='obj_diesel' lo='objects.diesel.52'/>
    <match phrase='clothes' id-name='obj_diesel' lo='objects.diesel.52'/>
    <match phrase='outfit' id-name='obj_diesel' lo='objects.diesel.52'/>
    <match phrase='bat' id-name='obj_diesel' lo='objects.diesel.53'/>
    <match phrase='waitdroid' id-name='obj_diesel' lo='objects.diesel.54' hi='objects.diesel.55'/>
    <match phrase='pirate' id-name='obj_diesel' lo='objects.diesel.56' hi='objects.diesel.58'/>
    <match phrase='monty' id-name='obj_diesel' lo='objects.diesel.56' hi='objects.diesel.58'/>
    <match phrase='snark' id-name='obj_diesel' lo='objects.diesel.56' hi='objects.diesel.58'/>
    <match phrase='diamond' id-name='obj_diesel' lo='objects.diesel.59'/>
    <match phrase='opal' id-name='obj_diesel' lo='objects.diesel.59'/>
    <match phrase='pearls' id-name='obj_diesel' lo='objects.diesel.59'/>
    <match phrase='talk' id-name='obj_diesel' lo='objects.diesel.60'/>
    <match phrase='selena' id-name='obj_diesel' lo='objects.diesel.61'/>
    <match phrase='chez' id-name='obj_diesel' lo='objects.diesel.62'/>
    <match phrase='venus' id-name='obj_diesel' lo='objects.diesel.63'/>
    <match phrase='moon' id-name='obj_diesel' lo='objects.diesel.64'/>
    <match phrase='titan' id-name='obj_diesel' lo='objects.diesel.65'/>
    <match phrase='castillo' id-name='obj_diesel' lo='objects.diesel.66'/>
    <match phrase='mercury' id-name='obj_diesel' lo='objects.diesel.67'/>
    <match phrase='phobos' id-name='obj_diesel' lo='objects.diesel.68'/>
    <match phrase='decor' id-name='obj_diesel' lo='objects.diesel.69' hi='objects.diesel.70'/>
    <match phrase='roof garden' id-name='obj_diesel' lo='objects.diesel.71'/>
    <match phrase='piano' id-name='obj_diesel' lo='objects.diesel.72'/>
    <match phrase='who' id-name='obj_diesel' lo='objects.diesel.3' hi='objects.diesel.4'/>
    <match phrase='free' id-name='obj_diesel' lo='objects.diesel.23' hi='objects.diesel.24'/>
    <match phrase='ireland' id-name='obj_diesel' lo='objects.diesel.73' hi='objects.diesel.74'/>
    <match phrase='rish' id-name='obj_diesel' lo='objects.diesel.73' hi='objects.diesel.74'/>
    <match phrase='patrick' id-name='obj_diesel' lo='objects.diesel.73' hi='objects.diesel.74'/>
    <match phrase='shamrock' id-name='obj_diesel' lo='objects.diesel.75' hi='objects.diesel.76'/>
    <match phrase='turkey' id-name='obj_diesel' lo='objects.diesel.78'/>
    <nomatch id-name='obj_diesel' lo='objects.diesel.43'/>
   </event>

   <event num='2'>
    <comment>Examine Diesel</comment>
    <message type='single' where='object' who='individual' lo='objects.diesel.44'/>
   </event>

   <event num='3'>
    <comment>Get Diesel</comment>
    <message type='single' where='com' who='individual' lo='objects.diesel.45'/>
   </event>

   <event num='4'>
    <comment>Kiss Diesel</comment>
    <message type='single' where='com' who='individual' lo='objects.diesel.46'/>
   </event>

   <event num='5'>
    <comment>Grope Diesel</comment>
    <message type='single' where='com' who='individual' lo='objects.diesel.47'/>
    <message type='single' where='com' who='room_ex' lo='objects.diesel.48'/>
    <changestat who='individual' stamina='3' change='set' cur-max='current'/>
   </event>

   <event num='6'>
    <comment>Get baseball bat</comment>
    <message type='single' where='com' who='individual' lo='objects.diesel.49'/>
    <message type='single' where='com' who='room_ex' lo='objects.diesel.50'/>
    <changestat who='individual' stamina='-2' change='add' cur-max='current'/>
   </event>

   <event num='7'>
    <comment>Hug Diesel</comment>
    <message type='single' where='com' who='individual' lo='objects.diesel.77'/>
   </event>

  </section>

  <section name='feather'>

   <event num='1'>
    <comment>Drop turkey feather</comment>
    <message type='single' where='com' who='individual' lo='objects.feather.1'/>
   </event>

   <event num='2'>
    <comment>Examine/ex</comment>
    <message type='single' where='com' who='individual' lo='objects.feather.2'/>
   </event>

   <event num='3'>
    <comment>Stroke</comment>
    <message type='single' where='com' who='individual' lo='objects.feather.3'/>
    <message type='single' where='com' who='room_ex' lo='objects.feather.4'/>
   </event>

  </section>

  <section name='forklift'>

   <event num='1'>
    <comment>Examine christmas forklift</comment>
    <message type='single' where='com' who='individual' lo='objects.forklift.1'/>
   </event>

   <event num='2'>
    <comment>Drop christmas forklift</comment>
    <message type='single' where='com' who='individual' lo='objects.forklift.2'/>
   </event>

   <event num='3'>
    <comment>Break Christmas forklift</comment>
    <message type='single' where='com' who='individual' lo='objects.forklift.3'/>
    <destroyobject where='inventory' map='home' id-name='nano-forklift'/>
   </event>

   <event num='4'>
    <comment>Use Christmas forklift</comment>
    <message type='single' where='com' who='individual' lo='objects.forklift.4'/>
    <message type='single' where='com' who='room_ex' lo='objects.forklift.5'/>
   </event>

   <event num='5'>
    <comment>Operate Christmas forklift</comment>
    <message type='multi' where='com' who='individual' lo='objects.forklift.6' hi='objects.forklift.10'/>
    <message type='single' where='com' who='room_ex' lo='objects.forklift.11'/>
    <message type='multi' where='com' who='room_ex' lo='objects.forklift.7' hi='objects.forklift.10'/>
   </event>

  </section>

  <section name='goldstar'>

   <event num='1'>
    <comment>Drop gold star</comment>
    <message type='single' where='com' who='individual' lo='objects.goldstar.1'/>
   </event>

   <event num='2'>
    <comment>Polish/rub gold star</comment>
    <message type='single' where='com' who='individual' lo='objects.goldstar.2'/>
    <message type='single' where='com' who='room_ex' lo='objects.goldstar.3'/>
    <changestat who='individual' stamina='20' change='add' cur-max='current'/>
   </event>

   <event num='3'>
    <comment>Break gold star</comment>
    <message type='single' where='com' who='individual' lo='objects.goldstar.4'/>
    <message type='single' where='com' who='room_ex' lo='objects.goldstar.5'/>
    <destroyobject where='inventory' map='home' id-name='gold star'/>
   </event>

   <event num='4'>
    <comment>Examine gold star</comment>
    <message type='single' where='com' who='individual' lo='objects.goldstar.6'/>
   </event>

  </section>

  <section name='hat'>

   <event num='1'>
    <comment>get hat - tux deluxe - 324</comment>
    <message type='single' where='com' who='individual' lo='objects.hat.1'/>
   </event>

   <event num='2'>
    <comment>buy hat - tux deluxe - 324 - check if already got hat</comment>
    <checkinventory map='home' id-name='top hat' found='objects.hat.3' not-found='objects.hat.4'/>
   </event>

   <event num='3'>
    <comment>Already got hat</comment>
    <message type='single' where='com' who='individual' lo='objects.hat.2'/>
   </event>

   <event num='4'>
    <comment>Buy hat - check groats</comment>
    <checkstat who='individual' money='10' higher='objects.hat.5' equals='objects.hat.5' lower='objects.hat.6'/>
   </event>

   <event num='5'>
    <comment>Sell the hat</comment>
    <message type='single' where='com' who='individual' lo='objects.hat.3'/>
    <changestat who='individual' money='-10' change='add' cur-max='current'/>
    <createobject where='inventory' home-map='sol/mars' id='obj_tophat'/>
    <setvariable name='objects' key='hat' value='unknown'/>
   </event>

   <event num='6'>
    <comment>Not enough money to buy hat</comment>
    <message type='text' where='com' who='individual'>You are in a bad way - you don&apos;t have the necessary groats to buy a top hat even when they are on sale!</message>
   </event>

   <event num='7'>
    <comment>Drop top hat - check if wearing it</comment>
    <checkvariable name='objects' key='hat' value='on' equals='objects.hat.9' not-equal='objects.hat.8'/>
   </event>

   <event num='8'>
    <comment>Not wearing hat</comment>
    <message type='single' where='com' who='individual' lo='objects.hat.4'/>
    <message type='single' where='com' who='room_ex' lo='objects.hat.5'/>
    <destroyobject where='inventory' map='home' id-name='top hat'/>
    <setvariable name='objects' key='hat' value='unknown'/>
   </event>

   <event num='9'>
    <comment>Wearing hat</comment>
    <message type='single' where='com' who='individual' lo='objects.hat.6'/>
    <message type='single' where='com' who='room_ex' lo='objects.hat.7'/>
    <destroyobject where='inventory' map='home' id-name='top hat'/>
    <setvariable name='objects' key='hat' value='unknown'/>
   </event>

   <event num='10'>
    <comment>Don top hat - check if already wearing it</comment>
    <checkvariable name='objects' key='hat' value='on' equals='objects.hat.11' not-equal='objects.hat.12'/>
   </event>

   <event num='11'>
    <comment>Yes they are wearing hat, so cannot wear it again</comment>
    <message type='single' where='com' who='individual' lo='objects.hat.8'/>
   </event>

   <event num='12'>
    <comment>No they are not wearing hat, so they do so</comment>
    <message type='single' where='com' who='individual' lo='objects.hat.9'/>
    <message type='single' where='com' who='room_ex' lo='objects.hat.10'/>
    <setvariable name='objects' key='hat' value='on' temporary='true'/>
   </event>

   <event num='13'>
    <comment>Remove top hat - check if already off</comment>
    <checkvariable name='objects' key='hat' value='on' equals='objects.hat.15' not-equal='objects.hat.14'/>
   </event>

   <event num='14'>
    <comment>No they are not wearing hat, so cannot remove it</comment>
    <message type='single' where='com' who='individual' lo='objects.hat.11'/>
   </event>

   <event num='15'>
    <comment>Yes they are wearing hat, so they remove it</comment>
    <message type='single' where='com' who='individual' lo='objects.hat.12'/>
    <message type='single' where='com' who='room_ex' lo='objects.hat.13'/>
    <setvariable name='objects' key='hat' value='off' temporary='true'/>
   </event>

   <event num='16'>
    <comment>Ex top hat - check if wearing it</comment>
    <checkvariable name='objects' key='hat' value='on' equals='objects.hat.17' not-equal='objects.hat.18'/>
   </event>

   <event num='17'>
    <comment>Wearing hat - give description</comment>
    <message type='single' where='com' who='individual' lo='objects.hat.14'/>
   </event>

   <event num='18'>
    <comment>Not wearing hat - give basic desc then call random event</comment>
    <message type='single' where='com' who='individual' lo='objects.hat.15'/>
    <call event='objects.hat.random[19-22]'/>
   </event>

   <event num='19'>
    <comment>Ex top hat - rabbit event</comment>
    <message type='single' where='com' who='individual' lo='objects.hat.16'/>
    <message type='single' where='com' who='room_ex' lo='objects.hat.17'/>
   </event>

   <event num='20'>
    <comment>Ex top hat - flowers event</comment>
    <message type='single' where='com' who='individual' lo='objects.hat.18'/>
    <message type='single' where='com' who='room_ex' lo='objects.hat.19'/>
   </event>

   <event num='21'>
    <comment>Ex top hat - water event</comment>
    <message type='single' where='com' who='individual' lo='objects.hat.20'/>
    <message type='single' where='com' who='room_ex' lo='objects.hat.21'/>
   </event>

   <event num='22'>
    <comment>Ex top hat - zlitherworm event</comment>
    <message type='single' where='com' who='individual' lo='objects.hat.22'/>
    <message type='single' where='com' who='room_ex' lo='objects.hat.23'/>
   </event>

  </section>

  <section name='map'>

   <event num='1'>
    <comment>Examine map - give basic desc then check state of switches</comment>
    <message type='multi' where='com' who='individual' lo='objects.map.1' hi='objects.map.2'/>
    <checkvariable name='ruins' key='map' value='unknown' equals='objects.map.2'/>
    <checkvariable name='ruins' key='map' value='iridium' equals='objects.map.3'/>
    <checkvariable name='ruins' key='map' value='rhodium' equals='objects.map.4'/>
    <checkvariable name='ruins' key='map' value='osmium' equals='objects.map.5'/>
   </event>

   <event num='2'>
    <comment>Unknown</comment>
    <message type='single' where='com' who='individual' lo='objects.map.3'/>
   </event>

   <event num='3'>
    <comment>Iridium</comment>
    <message type='single' where='com' who='individual' lo='objects.map.4'/>
   </event>

   <event num='4'>
    <comment>Rhodium</comment>
    <message type='single' where='com' who='individual' lo='objects.map.5'/>
   </event>

   <event num='5'>
    <comment>Osmium</comment>
    <message type='single' where='com' who='individual' lo='objects.map.6'/>
   </event>

   <event num='6'>
    <comment>Flip switch</comment>
    <message type='single' where='com' who='individual' lo='objects.map.26'/>
   </event>

   <event num='7'>
    <comment>Examine iridium switch - check state</comment>
    <checkvariable name='ruins' key='map' value='unknown' equals='objects.map.8'/>
    <checkvariable name='ruins' key='map' value='iridium' equals='objects.map.9'/>
    <checkvariable name='ruins' key='map' value='rhodium' equals='objects.map.9'/>
    <checkvariable name='ruins' key='map' value='osmium' equals='objects.map.9'/>
   </event>

   <event num='8'>
    <comment>Unknown</comment>
    <message type='single' where='com' who='individual' lo='objects.map.7'/>
   </event>

   <event num='9'>
    <comment>Iridium, rhodium or osmium</comment>
    <message type='single' where='com' who='individual' lo='objects.map.8'/>
   </event>

   <event num='10'>
    <comment>Flip iridium switch - check state</comment>
    <checkvariable name='ruins' key='map' value='osmium' equals='objects.map.12'/>
    <checkvariable name='ruins' key='map' value='rhodium' equals='objects.map.12'/>
    <checkvariable name='ruins' key='map' value='iridium' equals='objects.map.12'/>
    <checkvariable name='ruins' key='map' value='unknown' equals='objects.map.11'/>
   </event>

   <event num='11'>
    <comment>Unknown</comment>
    <message type='single' where='com' who='individual' lo='objects.map.9'/>
    <setvariable name='ruins' key='map' value='iridium' temporary='true'/>
   </event>

   <event num='12'>
    <comment>Iridium +</comment>
    <message type='single' where='com' who='individual' lo='objects.map.10'/>
   </event>

   <event num='13'>
    <comment>Examine rhodium switch - check state</comment>
    <checkvariable name='ruins' key='map' value='unknown' equals='objects.map.14'/>
    <checkvariable name='ruins' key='map' value='iridium' equals='objects.map.14'/>
    <checkvariable name='ruins' key='map' value='rhodium' equals='objects.map.15'/>
    <checkvariable name='ruins' key='map' value='osmium' equals='objects.map.15'/>
   </event>

   <event num='14'>
    <comment>Unknown or iridium</comment>
    <message type='single' where='com' who='individual' lo='objects.map.11'/>
   </event>

   <event num='15'>
    <comment>Rhodium or osmium</comment>
    <message type='single' where='com' who='individual' lo='objects.map.12'/>
   </event>

   <event num='16'>
    <comment>Flip rhodium switch - check state</comment>
    <checkvariable name='ruins' key='map' value='osmium' equals='objects.map.19'/>
    <checkvariable name='ruins' key='map' value='rhodium' equals='objects.map.19'/>
    <checkvariable name='ruins' key='map' value='iridium' equals='objects.map.18'/>
    <checkvariable name='ruins' key='map' value='unknown' equals='objects.map.17'/>
   </event>

   <event num='17'>
    <comment>Unknown</comment>
    <message type='single' where='com' who='individual' lo='objects.map.13'/>
   </event>

   <event num='18'>
    <comment>Iridium</comment>
    <message type='single' where='com' who='individual' lo='objects.map.14'/>
    <setvariable name='ruins' key='map' value='rhodium' temporary='true'/>
   </event>

   <event num='19'>
    <comment>Rhodium +</comment>
    <message type='single' where='com' who='individual' lo='objects.map.15'/>
   </event>

   <event num='20'>
    <comment>Examine osmium switch - check state</comment>
    <checkvariable name='ruins' key='map' value='unknown' equals='objects.map.21'/>
    <checkvariable name='ruins' key='map' value='iridium' equals='objects.map.21'/>
    <checkvariable name='ruins' key='map' value='rhodium' equals='objects.map.21'/>
    <checkvariable name='ruins' key='map' value='osmium' equals='objects.map.22'/>
   </event>

   <event num='21'>
    <comment>Unknown, iridium or rhodium</comment>
    <message type='single' where='com' who='individual' lo='objects.map.16'/>
   </event>

   <event num='22'>
    <comment>Osmium</comment>
    <message type='single' where='com' who='individual' lo='objects.map.17'/>
   </event>

   <event num='23'>
    <comment>Flip osmium switch - check state</comment>
    <checkvariable name='ruins' key='map' value='osmium' equals='objects.map.26'/>
    <checkvariable name='ruins' key='map' value='rhodium' equals='objects.map.25'/>
    <checkvariable name='ruins' key='map' value='iridium' equals='objects.map.24'/>
    <checkvariable name='ruins' key='map' value='unknown' equals='objects.map.24'/>
   </event>

   <event num='24'>
    <comment>Unknown and iridium</comment>
    <message type='single' where='com' who='individual' lo='objects.map.18'/>
   </event>

   <event num='25'>
    <comment>Rhodium</comment>
    <message type='single' where='com' who='individual' lo='objects.map.19'/>
    <setvariable name='ruins' key='map' value='osmium' temporary='true'/>
   </event>

   <event num='26'>
    <comment>Osmium</comment>
    <message type='single' where='com' who='individual' lo='objects.map.20'/>
   </event>

   <event num='27'>
    <comment>Connect wire - check state</comment>
    <checkvariable name='ruins' key='map' value='unknown' equals='objects.map.28'/>
    <checkvariable name='ruins' key='map' value='iridium' equals='objects.map.29'/>
    <checkvariable name='ruins' key='map' value='rhodium' equals='objects.map.30'/>
    <checkvariable name='ruins' key='map' value='osmium' equals='objects.map.31'/>
   </event>

   <event num='28'>
    <comment>Unknown</comment>
    <message type='single' where='com' who='individual' lo='objects.map.21'/>
   </event>

   <event num='29'>
    <comment>Iridium</comment>
    <message type='single' where='com' who='individual' lo='objects.map.22'/>
    <setvariable name='ruins' key='map' value='unknown' temporary='true'/>
   </event>

   <event num='30'>
    <comment>Rhodium</comment>
    <message type='single' where='com' who='individual' lo='objects.map.23'/>
    <setvariable name='ruins' key='map' value='unknown' temporary='true'/>
   </event>

   <event num='31'>
    <comment>Osmium</comment>
    <message type='multi' where='com' who='individual' lo='objects.map.24' hi='objects.map.25'/>
    <setvariable name='ruins' key='map' value='unknown' temporary='true'/>
   </event>

  </section>

  <section name='marsrat'>

   <event num='1'>
    <comment>Empty Office, loc 328 - ex marsrat - check if player has cheese</comment>
    <checkinventory map='home' id-name='cheese' found='objects.marsrat.2' not-found='objects.marsrat.3'/>
   </event>

   <event num='2'>
    <comment>Desc of marsrat - with cheese</comment>
    <message type='single' where='com' who='individual' lo='objects.marsrat.1'/>
   </event>

   <event num='3'>
    <comment>Desc of marsrat - no cheese</comment>
    <message type='single' where='com' who='individual' lo='objects.marsrat.2'/>
   </event>

   <event num='4'>
    <comment>Get marsrat - check if player already has one</comment>
    <checkinventory map='home' id-name='marsrat' found='objects.marsrat.5' not-found='objects.marsrat.6'/>
   </event>

   <event num='5'>
    <comment>Already got one</comment>
    <message type='single' where='com' who='individual' lo='objects.marsrat.3'/>
    <destroyobject where='inventory' map='home' id-name='marsrat'/>
   </event>

   <event num='6'>
    <comment>Not got one so create marsrat</comment>
    <message type='single' where='com' who='individual' lo='objects.marsrat.4'/>
    <destroyobject where='inventory' map='home' id-name='cheese'/>
    <createobject where='inventory' home-map='home' id='obj_3marsrat'/>
   </event>

   <event num='7'>
    <comment>Drop marsrat</comment>
    <message type='single' where='com' who='individual' lo='objects.marsrat.10'/>
    <message type='single' where='com' who='room_ex' lo='objects.marsrat.11'/>
    <destroyobject where='inventory' map='home' id-name='marsrat'/>
   </event>

   <event num='8'>
    <comment>Spot event on CDs if player is carrying marsrat</comment>
    <checkinventory map='home' id-name='marsrat' not-found='stop'/>
    <message type='single' where='com' who='individual' lo='objects.marsrat.12'/>
    <message type='single' where='com' who='room_ex' lo='objects.marsrat.13'/>
    <destroyobject where='inventory' map='home' id-name='marsrat'/>
   </event>

   <event num='9'>
    <comment>Spot event on xroads if player is carrying marsrat</comment>
    <checkinventory map='home' id-name='marsrat' not-found='stop'/>
    <message type='single' where='com' who='individual' lo='objects.marsrat.14'/>
    <message type='single' where='com' who='room_ex' lo='objects.marsrat.15'/>
   </event>

   <event num='10'>
    <comment>Examine marsrat in inventory</comment>
    <message type='single' where='com' who='individual' lo='objects.marsrat.16'/>
   </event>

   <event num='11'>
    <comment>Eat marsrat</comment>
    <message type='single' where='com' who='individual' lo='objects.marsrat.17'/>
    <message type='single' where='com' who='room_ex' lo='objects.marsrat.18'/>
    <destroyobject where='inventory' map='home' id-name='marsrat'/>
    <changestat who='individual' stamina='5' change='add' cur-max='current'/>
   </event>

  </section>

  <section name='phil'>

   <event num='1'>
    <comment>Talk to Phil - but he doesn&apos;t answer</comment>
    <nomatch id-name='obj_phil' lo='objects.phil.1'/>
   </event>

   <event num='2'>
    <comment>Hug Phil</comment>
    <message type='single' where='com' who='individual' lo='objects.phil.2'/>
    <message type='single' where='com' who='room_ex' lo='objects.phil.4'/>
   </event>

   <event num='3'>
    <comment>Kiss Phil</comment>
    <message type='single' where='com' who='individual' lo='objects.phil.3'/>
    <message type='single' where='com' who='room_ex' lo='objects.phil.5'/>
    <move what='player' who='individual' loc='325'/>
   </event>

  </section>

  <section name='piano'>

   <event num='1'>
    <comment>Get piano - in CDs, loc 260</comment>
    <message type='single' where='com' who='individual' lo='objects.piano.1'/>
   </event>

   <event num='2'>
    <comment>Play piano</comment>
    <message type='multi' where='loc' who='individual' lo='objects.piano.2' hi='objects.piano.3'/>
    <message type='single' where='loc' who='room_ex' lo='objects.piano.4'/>
   </event>

  </section>

  <section name='rose'>

   <event num='1'>
    <comment>Smell rose</comment>
    <message type='single' where='com' who='individual' lo='objects.rose.1'/>
   </event>

   <event num='2'>
    <comment>Shake rose</comment>
    <message type='multi' where='com' who='individual' lo='objects.rose.2' hi='objects.rose.3'/>
    <message type='multi' where='com' who='room_ex' lo='objects.rose.4' hi='objects.rose.5'/>
   </event>

   <event num='3'>
    <comment>Drop rose</comment>
    <message type='single' where='com' who='individual' lo='objects.rose.6'/>
    <message type='single' where='com' who='room_ex' lo='objects.rose.7'/>
    <destroyobject where='inventory' map='home' id-name='rose'/>
   </event>

   <event num='4'>
    <comment>Pluck rose</comment>
    <call event='objects.rose.random[5-6]'/>
   </event>

   <event num='5'>
    <comment>Loves me not</comment>
    <message type='multi' where='com' who='individual' lo='objects.rose.8' hi='objects.rose.9'/>
    <message type='single' where='com' who='room_ex' lo='objects.rose.10'/>
    <destroyobject where='inventory' map='home' id-name='rose'/>
   </event>

   <event num='6'>
    <comment>Loves me</comment>
    <message type='multi' where='com' who='individual' lo='objects.rose.11' hi='objects.rose.12'/>
    <message type='single' where='com' who='room_ex' lo='objects.rose.13'/>
    <destroyobject where='inventory' map='home' id-name='rose'/>
   </event>

  </section>

  <section name='scarab'>

   <event num='1'>
    <comment>Examine amber scarab</comment>
    <message type='single' where='com' who='individual' lo='objects.scarab.1'/>
   </event>

   <event num='2'>
    <comment>Drop amber scarab</comment>
    <message type='single' where='com' who='individual' lo='objects.scarab.2'/>
   </event>

   <event num='3'>
    <comment>Break amber scarab</comment>
    <message type='single' where='com' who='individual' lo='objects.scarab.3'/>
    <destroyobject where='inventory' map='home' id-name='amber scarab'/>
   </event>

   <event num='4'>
    <comment>Use/rub amber scarab</comment>
    <message type='single' where='com' who='individual' lo='objects.scarab.4'/>
    <message type='single' where='com' who='room_ex' lo='objects.scarab.5'/>
    <changestat who='individual' stamina='200' change='add' cur-max='current'/>
   </event>

  </section>

  <section name='sportster'>

   <event num='1'>
    <comment>Enter sportster - object in loc 836</comment>
    <message type='multi' where='com' who='individual' lo='objects.sportster.1' hi='objects.sportster.4'/>
    <message type='single' where='com' who='room_ex' lo='objects.sportster.5'/>
    <changestat who='individual' stamina='-2' change='add' cur-max='current'/>
   </event>

  </section>

  <section name='tree'>

   <event num='1'>
    <comment>Climb the tree - object in loc 389</comment>
    <message type='single' where='object' who='individual' lo='objects.tree.1'/>
    <message type='single' where='object' who='room_ex' lo='objects.tree.2'/>
    <announce type='single' loc='772' lo='objects.tree.3'/>
    <move what='player' who='individual' loc='772'/>
   </event>

  </section>

 </category>

 <category name='party'>

  <section name='barbecue'>

   <event num='1'>
    <comment>Get barbecue</comment>
    <message type='single' where='com' who='individual' lo='party.barbecue.1'/>
   </event>

   <event num='2'>
    <comment>Get burger</comment>
    <message type='single' where='com' who='individual' lo='party.barbecue.2'/>
    <changestat who='individual' stamina='5' change='add' cur-max='current'/>
   </event>

   <event num='3'>
    <comment>Get steak</comment>
    <message type='multi' where='com' who='individual' lo='party.barbecue.3' hi='party.barbecue.4'/>
    <changestat who='individual' stamina='5' change='add' cur-max='current'/>
   </event>

   <event num='4'>
    <comment>Get ribs</comment>
    <message type='single' where='com' who='individual' lo='party.barbecue.5'/>
    <changestat who='individual' stamina='5' change='add' cur-max='current'/>
   </event>

   <event num='5'>
    <comment>get marsrat</comment>
    <message type='single' where='com' who='individual' lo='party.barbecue.6'/>
    <changestat who='individual' stamina='5' change='add' cur-max='current'/>
   </event>

  </section>

  <section name='drink'>

   <event num='1'>
    <comment>buy round</comment>
    <message type='single' where='com' who='individual' lo='party.drink.1'/>
    <message type='single' where='com' who='room_ex' lo='party.drink.2'/>
    <changestat who='room' stamina='2' change='add' cur-max='current'/>
   </event>

  </section>

  <section name='fireworkbox'>

   <event num='1'>
    <comment>Get box of fireworks</comment>
    <message type='single' where='com' who='individual' lo='party.fireworkbox.1'/>
   </event>

   <event num='2'>
    <comment>Get firework</comment>
    <checkvariable name='xmas06fire' key='firework' value='got' equals='party.fireworkbox.3' not-equal='party.fireworkbox.4'/>
   </event>

   <event num='3'>
    <comment>Already got a firework</comment>
    <message type='single' where='com' who='individual' lo='party.fireworkbox.2'/>
   </event>

   <event num='4'>
    <comment>Not got a firework - so give a random one.</comment>
    <setvariable name='xmas06fire' key='firework' value='got' temporary='true'/>
    <call event='party.fireworkbox.random[5-13]'/>
   </event>

   <event num='5'>
    <comment>Create rocket 1</comment>
    <message type='single' where='com' who='individual' lo='party.fireworkbox.3'/>
    <createobject where='inventory' home-map='sol/mars' id='obj_1rocket'/>
   </event>

   <event num='6'>
    <comment>Create rocket 2</comment>
    <message type='single' where='com' who='individual' lo='party.fireworkbox.3'/>
    <createobject where='inventory' home-map='sol/mars' id='obj_2rocket'/>
   </event>

   <event num='7'>
    <comment>Create rocket 3</comment>
    <message type='single' where='com' who='individual' lo='party.fireworkbox.3'/>
    <createobject where='inventory' home-map='sol/mars' id='obj_3rocket'/>
   </event>

   <event num='8'>
    <comment>Create rocket 4</comment>
    <message type='single' where='com' who='individual' lo='party.fireworkbox.3'/>
    <createobject where='inventory' home-map='sol/mars' id='obj_4rocket'/>
   </event>

   <event num='9'>
    <comment>Create rocket 5</comment>
    <message type='single' where='com' who='individual' lo='party.fireworkbox.3'/>
    <createobject where='inventory' home-map='sol/mars' id='obj_5rocket'/>
   </event>

   <event num='10'>
    <comment>Create rocket 6</comment>
    <message type='single' where='com' who='individual' lo='party.fireworkbox.3'/>
    <createobject where='inventory' home-map='sol/mars' id='obj_6rocket'/>
   </event>

   <event num='11'>
    <comment>Create roman candle 1</comment>
    <message type='single' where='com' who='individual' lo='party.fireworkbox.4'/>
    <createobject where='inventory' home-map='sol/mars' id='obj_1candle'/>
   </event>

   <event num='12'>
    <comment>Create roman candle 2</comment>
    <message type='single' where='com' who='individual' lo='party.fireworkbox.4'/>
    <createobject where='inventory' home-map='sol/mars' id='obj_2candle'/>
   </event>

   <event num='13'>
    <comment>Create mortar</comment>
    <message type='single' where='com' who='individual' lo='party.fireworkbox.5'/>
    <createobject where='inventory' home-map='sol/mars' id='obj_mortar'/>
   </event>

  </section>

  <section name='fireworks'>

   <event num='1'>
    <comment>Light rocket 1</comment>
    <message type='single' where='com' who='individual' lo='party.fireworks.18'/>
    <message type='single' where='com' who='room_ex' lo='party.fireworks.15'/>
    <message type='single' where='com' who='room' lo='party.fireworks.1'/>
    <destroyobject where='inventory' map='home' id-name='rocket'/>
    <clearvariable name='xmas06fire'/>
   </event>

   <event num='2'>
    <comment>Light rocket 2</comment>
    <message type='single' where='com' who='individual' lo='party.fireworks.18'/>
    <message type='single' where='com' who='room_ex' lo='party.fireworks.15'/>
    <message type='single' where='com' who='room' lo='party.fireworks.2'/>
    <destroyobject where='inventory' map='home' id-name='rocket'/>
    <clearvariable name='xmas06fire'/>
   </event>

   <event num='3'>
    <comment>Light rocket 3</comment>
    <message type='single' where='com' who='individual' lo='party.fireworks.18'/>
    <message type='single' where='com' who='room_ex' lo='party.fireworks.15'/>
    <message type='multi' where='com' who='room' lo='party.fireworks.3' hi='party.fireworks.4'/>
    <destroyobject where='inventory' map='home' id-name='rocket'/>
    <clearvariable name='xmas06fire'/>
   </event>

   <event num='4'>
    <comment>Light rocket 4</comment>
    <message type='single' where='com' who='individual' lo='party.fireworks.18'/>
    <message type='single' where='com' who='room_ex' lo='party.fireworks.15'/>
    <message type='single' where='com' who='room' lo='party.fireworks.5'/>
    <destroyobject where='inventory' map='home' id-name='rocket'/>
    <clearvariable name='xmas06fire'/>
   </event>

   <event num='5'>
    <comment>Light rocket 5</comment>
    <message type='single' where='com' who='individual' lo='party.fireworks.18'/>
    <message type='single' where='com' who='room_ex' lo='party.fireworks.15'/>
    <message type='multi' where='com' who='room' lo='party.fireworks.6' hi='party.fireworks.7'/>
    <destroyobject where='inventory' map='home' id-name='rocket'/>
    <clearvariable name='xmas06fire'/>
   </event>

   <event num='6'>
    <comment>Light rocket 6</comment>
    <message type='single' where='com' who='individual' lo='party.fireworks.18'/>
    <message type='single' where='com' who='room_ex' lo='party.fireworks.15'/>
    <message type='multi' where='com' who='room' lo='party.fireworks.8' hi='party.fireworks.9'/>
    <destroyobject where='inventory' map='home' id-name='rocket'/>
    <clearvariable name='xmas06fire'/>
   </event>

   <event num='7'>
    <comment>Light roman candle 1</comment>
    <message type='single' where='com' who='individual' lo='party.fireworks.19'/>
    <message type='single' where='com' who='room_ex' lo='party.fireworks.16'/>
    <message type='single' where='com' who='room' lo='party.fireworks.10'/>
    <destroyobject where='inventory' map='home' id-name='roman candle'/>
    <clearvariable name='xmas06fire'/>
   </event>

   <event num='8'>
    <comment>Light roman candle 2</comment>
    <message type='single' where='com' who='individual' lo='party.fireworks.19'/>
    <message type='single' where='com' who='room_ex' lo='party.fireworks.16'/>
    <message type='single' where='com' who='room' lo='party.fireworks.11'/>
    <destroyobject where='inventory' map='home' id-name='roman candle'/>
    <clearvariable name='xmas06fire'/>
   </event>

   <event num='9'>
    <comment>Light mortar</comment>
    <message type='single' where='com' who='individual' lo='party.fireworks.20'/>
    <message type='single' where='com' who='room_ex' lo='party.fireworks.17'/>
    <message type='single' where='com' who='room' lo='party.fireworks.12'/>
    <destroyobject where='inventory' map='home' id-name='mortar'/>
    <clearvariable name='xmas06fire'/>
   </event>

   <event num='10'>
    <comment>Drop any of the fireworks</comment>
    <message type='single' where='com' who='individual' lo='party.fireworks.13'/>
    <destroyobject where='inventory' map='home' id-name='rocket'/>
    <destroyobject where='inventory' map='home' id-name='roman candle'/>
    <destroyobject where='inventory' map='home' id-name='mortar'/>
    <clearvariable name='xmas06fire'/>
   </event>

   <event num='11'>
    <comment>Try to leave roof garden - enter event on 260</comment>
    <checkvariable name='xmas06fire' key='firework' value='got' not-equal='stop'/>
    <message type='single' where='com' who='individual' lo='party.fireworks.14'/>
    <destroyobject where='inventory' map='home' id-name='rocket'/>
    <destroyobject where='inventory' map='home' id-name='roman candle'/>
    <destroyobject where='inventory' map='home' id-name='mortar'/>
    <clearvariable name='xmas06fire'/>
   </event>

  </section>

  <section name='poppers'>

   <event num='1'>
    <comment>Pop popper</comment>
    <message type='single' where='com' who='individual' lo='party.poppers.1'/>
    <message type='single' where='com' who='room_ex' lo='party.poppers.2'/>
    <destroyobject where='inventory' map='home' id-name='party popper'/>
   </event>

   <event num='2'>
    <comment>Drop popper</comment>
    <message type='single' where='com' who='individual' lo='party.poppers.3'/>
    <destroyobject where='inventory' map='home' id-name='party popper'/>
   </event>

   <event num='3'>
    <comment>On leaving CDs (enter - loc 325) - check for popper</comment>
    <checkinventory map='sol/mars' id-name='party popper' not-found='stop'/>
    <message type='single' where='com' who='individual' lo='party.poppers.4'/>
    <destroyobject where='inventory' map='home' id-name='party popper'/>
   </event>

   <event num='4'>
    <comment>Magic command to create popper - CREATE THINGUMMY - check start</comment>
    <checkflag who='individual' flag ='staff'  set='party.poppers.6' unset='party.poppers.5'/>
   </event>

   <event num='5'>
    <comment>Not staff</comment>
    <message type='single' where='com' who='individual' lo='party.poppers.5'/>
   </event>

   <event num='6'>
    <comment>Staff - create a popper and dump it on floor</comment>
    <message type='single' where='com' who='room' lo='party.poppers.6'/>
    <createobject where='room' home-map='sol/mars' id='obj_popper' dest-map='sol/mars' dest-loc='260'/>
   </event>

  </section>

 </category>

 <category name='snark'>

  <section name='mirror'>

   <event num='1'>
    <comment>examine (the) mirror</comment>
    <message type='multi' where='com' who='individual' lo='snark.mirror.1' hi='snark.mirror.6'/>
   </event>

   <event num='2'>
    <comment>Player enters mirror when it&apos;s not switched on</comment>
    <checkvariable name='snark' key='mirror' value='once' equals='snark.mirror.10' not-equal='snark.mirror.5'/>
   </event>

   <event num='5'>
    <comment>Player has not tried to enter the mirror before first message</comment>
    <freeze />
    <message type='single' where='com' who='individual' lo='snark.mirror.7'/>
    <delayevent delay='5' event='snark.mirror.6'/>
   </event>

   <event num='6'>
    <comment>Second message after a 5 sec delay</comment>
    <message type='single' where='com' who='individual' lo='snark.mirror.8'/>
    <delayevent delay='5' event='snark.mirror.7'/>
   </event>

   <event num='7'>
    <comment>Final message of enter mirror for first time</comment>
    <message type='multi' where='com' who='individual' lo='snark.mirror.9' hi='snark.mirror.12'/>
    <move what='player' who='individual' loc='711'/>
    <setvariable name='snark' key='mirror' value='once'/>
    <release />
   </event>

   <event num='10'>
    <comment>Play enters the switched off mirror subsequent times</comment>
    <percent value='2' higher='snark.mirror.11' equals='snark.mirror.5' lower='snark.mirror.5'/>
   </event>

   <event num='11'>
    <comment>Player is (eventually) going to die</comment>
    <freeze />
    <message type='single' where='com' who='individual' lo='snark.mirror.7'/>
    <delayevent delay='5' event='snark.mirror.12'/>
   </event>

   <event num='12'>
    <comment>Second death message</comment>
    <message type='single' where='com' who='individual' lo='snark.mirror.8'/>
    <delayevent delay='5' event='snark.mirror.13'/>
   </event>

   <event num='13'>
    <comment>Third death message</comment>
    <message type='single' where='com' who='individual' lo='snark.mirror.13'/>
    <delayevent delay='3' event='snark.mirror.14'/>
   </event>

   <event num='14'>
    <comment>Player finally dies</comment>
    <message type='single' where='com' who='individual' lo='snark.mirror.14'/>
    <release />
    <changestat who='individual' stamina='-999' change='add' cur-max='current'/>
   </event>

  </section>

  <section name='sign'>

   <event num='1'>
    <comment>read the sign outside the Martian ruins</comment>
    <message type='multi' where='com' who='individual' lo='snark.sign.1' hi='snark.sign.3'/>
   </event>

  </section>

  <section name='smile'>

   <event num='1'>
    <comment>talk to the smile</comment>
    <match phrase='hello' id-name='obj_smile' lo='snark.smile.1'/>
    <match phrase='who' id-name='obj_smile' lo='snark.smile.2'/>
    <match phrase='what' id-name='obj_smile' lo='snark.smile.2'/>
    <match phrase='accident' id-name='obj_smile' lo='snark.smile.3' hi='snark.smile.4'/>
    <match phrase='cat' id-name='obj_smile' lo='snark.smile.5' hi='snark.smile.6'/>
    <match phrase='lines' id-name='obj_smile' lo='snark.smile.7' hi='snark.smile.8'/>
    <match phrase='mirror' id-name='obj_smile' lo='snark.smile.9' hi='snark.smile.10'/>
    <match phrase='ruins' id-name='obj_smile' lo='snark.smile.11' hi='snark.smile.12'/>
    <match phrase='nexus' id-name='obj_smile' lo='snark.smile.13' hi='snark.smile.14'/>
    <match phrase='snark' id-name='obj_smile' lo='snark.smile.15'/>
    <match phrase='mars' id-name='obj_smile' lo='snark.smile.16'/>
    <match phrase='diesel' id-name='obj_smile' lo='snark.smile.17'/>
    <match phrase='hazed' id-name='obj_smile' lo='snark.smile.18'/>
    <match phrase='freya' id-name='obj_smile' lo='snark.smile.19'/>
    <match phrase='bella' id-name='obj_smile' lo='snark.smile.20'/>
    <nomatch id-name='obj_smile' lo='snark.smile.21'/>
   </event>

  </section>

 </category>

 <category name='start'>

  <section name='start'>

   <event num='1'>
    <comment>Statup event for Diesel&apos;s hopper</comment>
    <delayevent delay='10' logoff='hopper.marsport.1'/>
   </event>

  </section>

 </category>

 <category name='stpat'>

  <section name='drink'>

   <event num='1'>
    <comment>Player buys a round...</comment>
    <message type='single' where='com' who='individual' lo='stpat.drink.1'/>
    <message type='single' where='com' who='room_ex' lo='stpat.drink.2'/>
    <changestat who='room' stamina='2' change='add' cur-max='current'/>
   </event>

  </section>

 </category>

 <category name='temple'>

  <section name='blessing'>

   <event num='1'>
    <comment>Blessing</comment>
    <message type='single' where='com' who='individual' lo='temple.blessing.1'/>
    <message type='multi' where='com' who='room_ex' lo='temple.blessing.2' hi='temple.blessing.3'/>
    <clearvariable name='temple'/>
    <changestat who='individual' stamina='150' change='add' cur-max='current'/>
    <changestat who='individual' strength='150' change='add' cur-max='current'/>
    <changestat who='individual' dexterity='150' change='add' cur-max='current'/>
    <changestat who='individual' intelligence='150' change='add' cur-max='current'/>
   </event>

  </section>

  <section name='bone'>

   <event num='1'>
    <comment>Drop bone in temple - check if given a bone before</comment>
    <checkvariable name='temple' key='bone' value='given' equals='temple.bone.2' not-equal='temple.bone.3'/>
   </event>

   <event num='2'>
    <comment>Has given a bone before</comment>
    <message type='single' where='com' who='individual' lo='temple.bone.1'/>
    <message type='single' where='com' who='room_ex' lo='temple.bone.2'/>
    <destroyobject where='inventory' map='home' id-name='bone'/>
   </event>

   <event num='3'>
    <comment>Has not given bone before, so check if she has given skull</comment>
    <checkvariable name='temple' key='skull' value='given' equals='temple.bone.4' not-equal='temple.bone.6'/>
   </event>

   <event num='4'>
    <comment>Has given skull, so check if she has given rib</comment>
    <checkvariable name='temple' key='rib' value='given' equals='temple.bone.5' not-equal='temple.bone.6'/>
   </event>

   <event num='5'>
    <comment>Has given rib so donation is complete</comment>
    <message type='single' where='com' who='individual' lo='temple.bone.3'/>
    <message type='single' where='com' who='room_ex' lo='temple.bone.2'/>
    <destroyobject where='inventory' map='home' id-name='bone'/>
    <setvariable name='temple' key='bone' value='given' temporary='true'/>
    <call event='temple.blessing.1'/>
   </event>

   <event num='6'>
    <comment>Has not given all 3 objects</comment>
    <message type='single' where='com' who='individual' lo='temple.bone.3'/>
    <message type='single' where='com' who='room_ex' lo='temple.bone.2'/>
    <destroyobject where='inventory' map='home' id-name='bone'/>
    <setvariable name='temple' key='bone' value='given' temporary='true'/>
    <call event='temple.donate.1'/>
   </event>

  </section>

  <section name='donate'>

   <event num='1'>
    <comment>Basic donation for all objects</comment>
    <message type='single' where='com' who='individual' lo='temple.donate.1'/>
    <message type='single' where='com' who='room_ex' lo='temple.donate.2'/>
   </event>

  </section>

  <section name='rib'>

   <event num='1'>
    <comment>Drop rib in temple - check if given a rib before</comment>
    <checkvariable name='temple' key='rib' value='given' equals='temple.rib.2' not-equal='temple.rib.3'/>
   </event>

   <event num='2'>
    <comment>Has given a rib before</comment>
    <message type='single' where='com' who='individual' lo='temple.rib.1'/>
    <message type='single' where='com' who='room_ex' lo='temple.rib.2'/>
    <destroyobject where='inventory' map='home' id-name='rib'/>
   </event>

   <event num='3'>
    <comment>Has not given rib before, so check if she has given skull</comment>
    <checkvariable name='temple' key='skull' value='given' equals='temple.rib.4' not-equal='temple.rib.6'/>
   </event>

   <event num='4'>
    <comment>Has given skull, so check if she has given bone</comment>
    <checkvariable name='temple' key='bone' value='given' equals='temple.rib.5' not-equal='temple.rib.6'/>
   </event>

   <event num='5'>
    <comment>Has given bone so donation is complete</comment>
    <message type='single' where='com' who='individual' lo='temple.rib.3'/>
    <message type='single' where='com' who='room_ex' lo='temple.rib.2'/>
    <destroyobject where='inventory' map='home' id-name='rib'/>
    <setvariable name='temple' key='rib' value='given' temporary='true'/>
    <call event='temple.blessing.1'/>
   </event>

   <event num='6'>
    <comment>Has not given all 3 objects</comment>
    <message type='single' where='com' who='individual' lo='temple.rib.3'/>
    <message type='single' where='com' who='room_ex' lo='temple.rib.2'/>
    <destroyobject where='inventory' map='home' id-name='rib'/>
    <setvariable name='temple' key='rib' value='given' temporary='true'/>
    <call event='temple.donate.1'/>
   </event>

  </section>

  <section name='skull'>

   <event num='1'>
    <comment>Drop skull in temple - check if given a skull before</comment>
    <checkvariable name='temple' key='skull' value='given' equals='temple.skull.2' not-equal='temple.skull.3'/>
   </event>

   <event num='2'>
    <comment>Has given a skull before</comment>
    <message type='single' where='com' who='individual' lo='temple.skull.1'/>
    <message type='single' where='com' who='room_ex' lo='temple.skull.2'/>
    <destroyobject where='inventory' map='home' id-name='skull'/>
   </event>

   <event num='3'>
    <comment>Has not given skull before, so check if she has given bone</comment>
    <checkvariable name='temple' key='bone' value='given' equals='temple.skull.4' not-equal='temple.skull.6'/>
   </event>

   <event num='4'>
    <comment>Has given bone, so check if she has given rib</comment>
    <checkvariable name='temple' key='rib' value='given' equals='temple.skull.5' not-equal='temple.skull.6'/>
   </event>

   <event num='5'>
    <comment>Has given rib so donation is complete</comment>
    <message type='single' where='com' who='individual' lo='temple.skull.3'/>
    <message type='single' where='com' who='room_ex' lo='temple.skull.2'/>
    <destroyobject where='inventory' map='home' id-name='skull'/>
    <setvariable name='temple' key='skull' value='given' temporary='true'/>
    <call event='temple.blessing.1'/>
   </event>

   <event num='6'>
    <comment>Has not given all 3 objects</comment>
    <message type='single' where='com' who='individual' lo='temple.skull.3'/>
    <message type='single' where='com' who='room_ex' lo='temple.skull.2'/>
    <destroyobject where='inventory' map='home' id-name='skull'/>
    <setvariable name='temple' key='skull' value='given' temporary='true'/>
    <call event='temple.donate.1'/>
   </event>

  </section>

 </category>

 <category name='thanks08'>

  <section name='drink'>

   <event num='1'>
    <comment>buy round</comment>
    <message type='single' where='com' who='individual' lo='thanks08.drink.1'/>
    <message type='single' where='com' who='room_ex' lo='thanks08.drink.2'/>
    <changestat who='room' stamina='2' change='add' cur-max='current'/>
   </event>

   <event num='2'>
    <comment>buy food</comment>
    <message type='single' where='com' who='individual' lo='thanks08.drink.3'/>
    <changestat who='individual' stamina='5' change='add' cur-max='current'/>
   </event>

  </section>

 </category>

 <category name='val10'>

  <section name='food'>

   <event num='1'>
    <comment>CDs - buy round</comment>
    <message type='single' where='com' who='individual' lo='val10.food.1'/>
    <message type='single' where='com' who='room_ex' lo='val10.food.2'/>
    <changestat who='room' stamina='2' change='add' cur-max='current'/>
   </event>

   <event num='2'>
    <comment>CDs - buy food</comment>
    <message type='single' where='com' who='individual' lo='val10.food.3'/>
    <changestat who='individual' stamina='5' change='add' cur-max='current'/>
   </event>

  </section>

  <section name='rose'>

   <event num='1'>
    <comment>Get rose - check if already got one</comment>
    <checkinventory map='home' id-name='rose' found='val10.rose.2' not-found='val10.rose.3'/>
   </event>

   <event num='2'>
    <comment>Already got a rose</comment>
    <message type='single' where='com' who='individual' lo='val10.rose.1'/>
   </event>

   <event num='3'>
    <comment>Not got one, so create a rose</comment>
    <message type='single' where='com' who='individual' lo='val10.rose.2'/>
    <message type='single' where='com' who='room_ex' lo='val10.rose.3'/>
    <createobject where='inventory' home-map='home' id='rose_ab'/>
   </event>

  </section>

 </category>

 <category name='xmas08'>

  <section name='coin'>

   <event num='1'>
    <comment>Toss/flip coin</comment>
    <message type='single' where='com' who='individual' lo='xmas08.coin.1'/>
    <message type='single' where='com' who='room_ex' lo='xmas08.coin.2'/>
    <percent value='50' higher='xmas08.coin.2' equals='xmas08.coin.3' lower='xmas08.coin.4'/>
   </event>

   <event num='2'>
    <comment>Percent higher than 50 - heads</comment>
    <message type='single' where='com' who='room' lo='xmas08.coin.3'/>
    <message type='single' where='com' who='individual' lo='xmas08.coin.10'/>
    <message type='single' where='com' who='room_ex' lo='xmas08.coin.11'/>
   </event>

   <event num='3'>
    <comment>Percent equal to 50 - balance</comment>
    <message type='single' where='com' who='room' lo='xmas08.coin.4'/>
    <message type='single' where='com' who='individual' lo='xmas08.coin.10'/>
    <message type='single' where='com' who='room_ex' lo='xmas08.coin.11'/>
   </event>

   <event num='4'>
    <comment>Percent lower than 50 - heads</comment>
    <message type='single' where='com' who='room' lo='xmas08.coin.5'/>
    <message type='single' where='com' who='individual' lo='xmas08.coin.10'/>
    <message type='single' where='com' who='room_ex' lo='xmas08.coin.11'/>
   </event>

   <event num='5'>
    <comment>Drop coin - check if it&apos;s in the fountain on Titan</comment>
    <checkmap map='sol/titan'  pass='xmas08.coin.6' fail='xmas08.coin.7' loc='778'/>
   </event>

   <event num='6'>
    <comment>Fountain</comment>
    <message type='single' where='com' who='individual' lo='xmas08.coin.6'/>
    <message type='single' where='com' who='room_ex' lo='xmas08.coin.7'/>
    <destroyobject where='inventory' map='home' id-name='coin'/>
   </event>

   <event num='7'>
    <comment>Not fountain</comment>
    <message type='single' where='com' who='individual'/>
    <message type='single' where='com' who='room_ex' lo='xmas08.coin.9'/>
    <destroyobject where='inventory' map='home' id-name='coin'/>
   </event>

  </section>

  <section name='food'>

   <event num='1'>
    <comment>CDs - buy food</comment>
    <message type='single' where='com' who='individual' lo='xmas08.food.1'/>
    <changestat who='individual' stamina='5' change='add' cur-max='current'/>
   </event>

   <event num='2'>
    <comment>CDs - buy round</comment>
    <message type='single' where='com' who='individual' lo='xmas08.food.2'/>
    <message type='single' where='com' who='room_ex' lo='xmas08.food.3'/>
    <changestat who='room' stamina='2' change='add' cur-max='current'/>
   </event>

  </section>

  <section name='fruitcake'>

   <event num='1'>
    <comment>Static fruitcake - kick</comment>
    <message type='single' where='com' who='individual' lo='xmas08.fruitcake.1'/>
    <message type='single' where='com' who='room_ex' lo='xmas08.fruitcake.2'/>
   </event>

   <event num='2'>
    <comment>Eat</comment>
    <message type='single' where='com' who='individual' lo='xmas08.fruitcake.3'/>
   </event>

   <event num='3'>
    <comment>Get - check if already got some</comment>
    <checkinventory map='sol/earth' id-name='fruitcake' found='xmas08.fruitcake.4' not-found='xmas08.fruitcake.5'/>
   </event>

   <event num='4'>
    <comment>Already got some</comment>
    <message type='single' where='com' who='individual' lo='xmas08.fruitcake.4'/>
   </event>

   <event num='5'>
    <comment>Not got some, so give the player some cake</comment>
    <message type='single' where='com' who='individual' lo='xmas08.fruitcake.5'/>
    <message type='single' where='com' who='room_ex' lo='xmas08.fruitcake.6'/>
    <createobject where='inventory' home-map='sol/earth' id='obj_cake'/>
   </event>

  </section>

  <section name='fruitcake2'>

   <event num='1'>
    <comment>Static fruitcake - kick</comment>
    <message type='single' where='com' who='individual' lo='xmas08.fruitcake2.1'/>
    <message type='single' where='com' who='room_ex' lo='xmas08.fruitcake2.2'/>
   </event>

   <event num='2'>
    <comment>Eat</comment>
    <message type='single' where='com' who='individual' lo='xmas08.fruitcake2.3'/>
   </event>

   <event num='3'>
    <comment>Get - check if already got some</comment>
    <checkinventory map='home' id-name='fruitcake' found='xmas08.fruitcake2.4' not-found='xmas08.fruitcake2.5'/>
   </event>

   <event num='4'>
    <comment>Already got some</comment>
    <message type='single' where='com' who='individual' lo='xmas08.fruitcake2.4'/>
   </event>

   <event num='5'>
    <comment>Not got some, so give the player some cake</comment>
    <message type='single' where='com' who='individual' lo='xmas08.fruitcake2.5'/>
    <message type='single' where='com' who='room_ex' lo='xmas08.fruitcake2.6'/>
    <createobject where='inventory' home-map='home' id='obj_specialcake'/>
   </event>

   <event num='6'>
    <comment>Abstract cake - eat</comment>
    <message type='single' where='com' who='individual' lo='xmas08.fruitcake2.7'/>
    <message type='single' where='com' who='room_ex' lo='xmas08.fruitcake2.9'/>
    <destroyobject where='inventory' map='home' id-name='fruitcake'/>
    <checkinventory map='home' id-name='coin' found='stop'/>
    <message type='single' where='com' who='individual' lo='xmas08.fruitcake2.8'/>
    <message type='single' where='com' who='room_ex' lo='xmas08.fruitcake2.10'/>
    <createobject where='inventory' home-map='home' id='obj_coin'/>
   </event>

   <event num='7'>
    <comment>Drop</comment>
    <message type='single' where='com' who='individual' lo='xmas08.fruitcake2.11'/>
    <message type='single' where='com' who='room_ex' lo='xmas08.fruitcake2.12'/>
    <destroyobject where='inventory' map='home' id-name='fruitcake'/>
   </event>

   <event num='8'>
    <comment>Throw - check if player is in a bar</comment>
    <checklocflag flag='bar'  set='xmas08.fruitcake2.9' unset='xmas08.fruitcake2.10'/>
   </event>

   <event num='9'>
    <comment>Yes, it&apos;s a bar</comment>
    <message type='single' where='com' who='individual' lo='xmas08.fruitcake2.13'/>
    <message type='single' where='com' who='room_ex' lo='xmas08.fruitcake2.14'/>
    <destroyobject where='inventory' map='home' id-name='fruitcake'/>
   </event>

   <event num='10'>
    <comment>Not a bar</comment>
    <message type='single' where='com' who='individual' lo='xmas08.fruitcake2.15'/>
    <message type='single' where='com' who='room_ex' lo='xmas08.fruitcake2.16'/>
    <destroyobject where='inventory' map='home' id-name='fruitcake'/>
   </event>

  </section>

 </category>

 <category name='xmas09'>

  <section name='snowball'>

   <event num='1'>
    <comment>In event on 259 - roof garden</comment>
    <message type='single' where='com' who='individual' lo='xmas09.snowball.1'/>
   </event>

   <event num='2'>
    <comment>Get snowball - check if already got one</comment>
    <checkinventory map='home' id-name='snowball' found='xmas09.snowball.3' not-found='xmas09.snowball.4'/>
   </event>

   <event num='3'>
    <comment>Already got one</comment>
    <message type='single' where='com' who='individual' lo='xmas09.snowball.2'/>
   </event>

   <event num='4'>
    <comment>Make a snowball</comment>
    <message type='single' where='com' who='individual' lo='xmas09.snowball.3'/>
    <message type='single' where='com' who='room_ex' lo='xmas09.snowball.4'/>
    <createobject where='inventory' home-map='home' id='xmassnowball_ab'/>
   </event>

   <event num='5'>
    <comment>Drop snowball</comment>
    <message type='single' where='com' who='individual' lo='xmas09.snowball.5'/>
    <message type='single' where='com' who='room_ex' lo='xmas09.snowball.6'/>
    <destroyobject where='inventory' map='home' id-name='snowball'/>
   </event>

   <event num='6'>
    <comment>Enter event on CDs</comment>
    <checkinventory map='home' id-name='snowball' not-found='stop'/>
    <message type='single' where='com' who='individual' lo='xmas09.snowball.7'/>
    <destroyobject where='inventory' map='home' id-name='snowball'/>
   </event>

  </section>

  <section name='throw'>

   <event num='1'>
    <comment>Throw snowball - intro message then call random</comment>
    <destroyobject where='inventory' map='home' id-name='snowball'/>
    <message type='single' where='com' who='individual' lo='xmas09.throw.1'/>
    <message type='single' where='com' who='room_ex' lo='xmas09.throw.2'/>
    <call event='xmas09.throw.random[2-13]'/>
   </event>

   <event num='2'>
    <comment>Option 1</comment>
    <message type='single' where='com' who='room' lo='xmas09.throw.3'/>
   </event>

   <event num='3'>
    <comment>Option 2</comment>
    <message type='single' where='com' who='room' lo='xmas09.throw.4'/>
   </event>

   <event num='4'>
    <comment>Option 3</comment>
    <message type='single' where='com' who='room' lo='xmas09.throw.5'/>
   </event>

   <event num='5'>
    <comment>Option 4</comment>
    <message type='single' where='com' who='room' lo='xmas09.throw.6'/>
   </event>

   <event num='6'>
    <comment>Option 5</comment>
    <message type='single' where='com' who='individual' lo='xmas09.throw.7'/>
    <message type='single' where='com' who='room_ex' lo='xmas09.throw.8'/>
   </event>

   <event num='7'>
    <comment>Option 6</comment>
    <message type='single' where='com' who='individual' lo='xmas09.throw.9'/>
    <message type='single' where='com' who='room_ex' lo='xmas09.throw.10'/>
   </event>

   <event num='8'>
    <comment>Option 7</comment>
    <message type='single' where='com' who='individual' lo='xmas09.throw.11'/>
    <message type='single' where='com' who='room_ex' lo='xmas09.throw.12'/>
   </event>

   <event num='9'>
    <comment>Option 8</comment>
    <message type='single' where='com' who='room' lo='xmas09.throw.13'/>
    <announce type='single' loc='260' lo='xmas09.throw.14'/>
   </event>

   <event num='10'>
    <comment>Option 9</comment>
    <message type='single' where='com' who='room' lo='xmas09.throw.15'/>
    <announce type='single' loc='260' lo='xmas09.throw.16'/>
   </event>

   <event num='11'>
    <comment>Option 10</comment>
    <message type='single' where='com' who='room' lo='xmas09.throw.17'/>
    <announce type='single' loc='260' lo='xmas09.throw.18'/>
   </event>

   <event num='12'>
    <comment>Option 11</comment>
    <message type='single' where='com' who='room' lo='xmas09.throw.19'/>
    <announce type='single' loc='325' lo='xmas09.throw.20'/>
   </event>

   <event num='13'>
    <comment>Option 12</comment>
    <message type='single' where='com' who='room' lo='xmas09.throw.21'/>
    <announce type='single' loc='325' lo='xmas09.throw.22'/>
   </event>

  </section>

 </category>

</event-list>

